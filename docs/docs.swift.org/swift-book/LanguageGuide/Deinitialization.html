<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="author" content="Apple Inc.">
    <meta name="viewport" content="width=device-width initial-scale=1">
    
    <title>Deinitialization — The Swift Programming Language (Swift 5.6)</title>
    
    <link rel="license" href="/LICENSE.txt">
    <link rel="stylesheet" media="all" href="../static/stylesheets/application.css">
    <link rel="stylesheet" media="all" href="../static/stylesheets/tspl.css">
    <link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="mask-icon" href="/assets/images/icon-swift.svg" color="#F05339"> 
  </head>
  <body>


<nav role="navigation">
    <header role="banner">
      <h1 id="logo">
        <a href="https://swift.org/" title="Swift.org" role="img" aria-label="Swift.org">
          Swift.org
        </a>
      </h1>
    </header>

    <div id="menu-toggle" class="menu-toggle open"></div>

    <h2>The Swift Programming Language<div>Swift 5.6</div>
</h2>

    <ul>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html"><span class="enstr">Welcome to Swift</span><!--end_enstr-->
<span class="jpstr">
スウィフトにようこそ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l1 current">
<a class="reference internal" href="TheBasics.html"><span class="enstr">Language Guide</span><!--end_enstr-->
<span class="jpstr">
言語ガイド
</span><!--end_jpstr-->
</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="TheBasics.html"><span class="enstr">The Basics</span><!--end_enstr-->
<span class="jpstr">
基本
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="BasicOperators.html"><span class="enstr">Basic Operators</span><!--end_enstr-->
<span class="jpstr">
基本の演算子
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="StringsAndCharacters.html"><span class="enstr">Strings and Characters</span><!--end_enstr-->
<span class="jpstr">
文字列と文字
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="CollectionTypes.html"><span class="enstr">Collection Types</span><!--end_enstr-->
<span class="jpstr">
コレクション型
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="ControlFlow.html"><span class="enstr">Control Flow</span><!--end_enstr-->
<span class="jpstr">
制御の流れ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Functions.html"><span class="enstr">Functions</span><!--end_enstr-->
<span class="jpstr">
関数
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Closures.html"><span class="enstr">Closures</span><!--end_enstr-->
<span class="jpstr">
クロージャ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Enumerations.html"><span class="enstr">Enumerations</span><!--end_enstr-->
<span class="jpstr">
列挙
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClassesAndStructures.html"><span class="enstr">Structures and Classes</span><!--end_enstr-->
<span class="jpstr">
構造体とクラス
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Properties.html"><span class="enstr">Properties</span><!--end_enstr-->
<span class="jpstr">
プロパティ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Methods.html"><span class="enstr">Methods</span><!--end_enstr-->
<span class="jpstr">
メソッド
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Subscripts.html"><span class="enstr">Subscripts</span><!--end_enstr-->
<span class="jpstr">
添え字
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Inheritance.html"><span class="enstr">Inheritance</span><!--end_enstr-->
<span class="jpstr">
継承
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Initialization.html"><span class="enstr">Initialization</span><!--end_enstr-->
<span class="jpstr">
初期化
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><span class="enstr">Deinitialization</span><!--end_enstr-->
<span class="jpstr">
デイニシャライズ
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="OptionalChaining.html"><span class="enstr">Optional Chaining</span><!--end_enstr-->
<span class="jpstr">
オプショナル連鎖
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="ErrorHandling.html"><span class="enstr">Error Handling</span><!--end_enstr-->
<span class="jpstr">
エラーの処理
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Concurrency.html"><span class="enstr">Concurrency</span><!--end_enstr-->
<span class="jpstr">
並行性
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="TypeCasting.html"><span class="enstr">Type Casting</span><!--end_enstr-->
<span class="jpstr">
型キャスト
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="NestedTypes.html"><span class="enstr">Nested Types</span><!--end_enstr-->
<span class="jpstr">
入れ子にされた型
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Extensions.html"><span class="enstr">Extensions</span><!--end_enstr-->
<span class="jpstr">
拡張
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Protocols.html"><span class="enstr">Protocols</span><!--end_enstr-->
<span class="jpstr">
プロトコル
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="Generics.html"><span class="enstr">Generics</span><!--end_enstr-->
<span class="jpstr">
総称体
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="OpaqueTypes.html"><span class="enstr">Opaque Types</span><!--end_enstr-->
<span class="jpstr">
不透明型
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="AutomaticReferenceCounting.html"><span class="enstr">Automatic Reference Counting</span><!--end_enstr-->
<span class="jpstr">
自動参照カウント
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="MemorySafety.html"><span class="enstr">Memory Safety</span><!--end_enstr-->
<span class="jpstr">
メモリ安全
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="AccessControl.html"><span class="enstr">Access Control</span><!--end_enstr-->
<span class="jpstr">
アクセス制御
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l2"><a class="reference internal" href="AdvancedOperators.html"><span class="enstr">Advanced Operators</span><!--end_enstr-->
<span class="jpstr">
先進の演算子
</span><!--end_jpstr-->
</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ReferenceManual/AboutTheLanguageReference.html"><span class="enstr">Language Reference</span><!--end_enstr-->
<span class="jpstr">
言語リファレンス
</span><!--end_jpstr-->
</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RevisionHistory/RevisionHistory.html"><span class="enstr">Revision History</span><!--end_enstr-->
<span class="jpstr">
改訂履歴
</span><!--end_jpstr-->
</a></li>
</ul>

    <li class="toctree-l1 return"><a class="reference internal" href="../../../index.html">← Go to Index</a></li>
    </ul>
</nav>




<main role="main">
    <article class="page">
        <menu id="bashful" type="toolbar">
          <div class="inner">
            <menuitem id="jump_to" class="menu-bar-item closed">
            <span id="jump_to_toggle">On This Page</span>
            <div class="chevron">
                <div class="chevy chevron-left"></div>
                <div class="chevy chevron-right"></div>
            </div>
            <menu type="list" class="details">
<ul>
<li>
<a class="reference internal" href="#"><span class="enstr">Deinitialization</span><!--end_enstr-->
<span class="jpstr">
デイニシャライズ
</span><!--end_jpstr-->
</a><ul>
<li><a class="reference internal" href="#ID143"><span class="enstr">How Deinitialization Works</span><!--end_enstr-->
<span class="jpstr">
デイニシャライズはどのように働くか
</span><!--end_jpstr-->
</a></li>
<li><a class="reference internal" href="#ID144"><span class="enstr">Deinitializers in Action</span><!--end_enstr-->
<span class="jpstr">
デイニシャライザの動作
</span><!--end_jpstr-->
</a></li>
</ul>
</li>
</ul>

            
                </menu>
            </menuitem>
          </div>
        </menu>

        
  <div class="section" id="deinitialization">
<h1><span class="enstr">Deinitialization<a class="headerlink" href="#deinitialization" title="Permalink to this headline">¶</a></span><!--end_enstr-->
<span class="jpstr">
デイニシャライズ<a class="headerlink" href="#deinitialization" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->

</h1>
<p><span class="enstr">A <em>deinitializer</em> is called immediately before a class instance is deallocated. You write deinitializers with the <code class="docutils literal notranslate"><span class="pre">deinit</span></code> keyword, similar to how initializers are written with the <code class="docutils literal notranslate"><span class="pre">init</span></code> keyword. Deinitializers are only available on class types.</span><!--end_enstr-->
<span class="jpstr">
<em>デイニシャライザ</em>は、クラスインスタンスが割り当て解除される直前に呼ばれます。あなたは、イニシャライザが<code class="docutils literal notranslate"><span class="pre">init</span></code>キーワードで書かれる方法と同様に、デイニシャライザを<code class="docutils literal notranslate"><span class="pre">deinit</span></code>キーワードを使って書きます。デイニシャライザは、クラス型で利用可能なだけです。
</span><!--end_jpstr-->
</p>
<div class="section" id="ID143">
<h2><span class="enstr">How Deinitialization Works<a class="headerlink" href="#ID143" title="Permalink to this headline">¶</a></span><!--end_enstr-->
<span class="jpstr">
デイニシャライズはどのように働くか<a class="headerlink" href="#ID143" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->

</h2>
<p><span class="enstr">Swift automatically deallocates your instances when they’re no longer needed, to free up resources. Swift handles the memory management of instances through <em>automatic reference counting</em> (<em>ARC</em>), as described in <a class="reference internal" href="AutomaticReferenceCounting.html"><span class="doc">Automatic Reference Counting</span></a>. Typically you don’t need to perform manual cleanup when your instances are deallocated. However, when you are working with your own resources, you might need to perform some additional cleanup yourself. For example, if you create a custom class to open a file and write some data to it, you might need to close the file before the class instance is deallocated.</span><!--end_enstr-->
<span class="jpstr">
スウィフトは自動的に、それらがもはや必要とされない場合はあなたのインスタンスを割り当て解除して、資源を自由に使えるようにします。スウィフトは、<a class="reference internal" href="AutomaticReferenceCounting.html"><span class="doc">自動参照カウント</span></a>で記述されるように、インスタンスのメモリ管理を<em>自動参照カウント</em>（<em>ARC</em>）を通して取り扱います。概して、あなたのインスタンスが割り当て解除されるとき、あなたが手動で掃除をする必要がありません。しかし、あなたがあなた独自のリソース（計算資源）を扱うとき、あなたは追加のいくらかの掃除をあなた自身でする必要があるかもしれません。例えば、あなたがファイルを開いてそれに何かのデータを書くあつらえのクラスを作成するならば、クラスインスタンスが割り当て解除される前に、あなたはファイルを閉じる必要があるでしょう。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">Class definitions can have at most one deinitializer per class. The deinitializer doesn’t take any parameters and is written without parentheses:</span><!--end_enstr-->
<span class="jpstr">
クラス定義は、クラスごとに多くとも１つのデイニシャライザしか持つことができません。デイニシャライザは、まったくパラメータを取りません、したがって丸括弧なしで書かれます：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines">
<li><span class="k">deinit</span> {
</li>
<li>    <span class="c"><span class="enstr">// perform the deinitialization</span><!--end_enstr--><span class="jpstr">（デイニシャライズを実行する）</span><!--end_jpstr--></span>
</li>
<li>}
</li>
</ol></div></div></div>
<p><span class="enstr">Deinitializers are called automatically, just before instance deallocation takes place. You aren’t allowed to call a deinitializer yourself. Superclass deinitializers are inherited by their subclasses, and the superclass deinitializer is called automatically at the end of a subclass deinitializer implementation. Superclass deinitializers are always called, even if a subclass doesn’t provide its own deinitializer.</span><!--end_enstr-->
<span class="jpstr">
デイニシャライザは、インスタンスの割り当て解除が起こる直前に、自動的に呼ばれます。あなたは、デイニシャライザをあなた自身で呼び出すことは許されません。スーパークラスのデイニシャライザは、それらのサブクラスそれらによって継承されます、そして、スーパークラスのデイニシャライザはサブクラスのデイニシャライザ実施の終わりに自動的に呼ばれます。スーパークラスのデイニシャライザは、たとえサブクラスがそれ自身のデイニシャライザを提供しないとしても、常に呼ばれます。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">Because an instance isn’t deallocated until after its deinitializer is called, a deinitializer can access all properties of the instance it’s called on and can modify its behavior based on those properties (such as looking up the name of a file that needs to be closed).</span><!--end_enstr-->
<span class="jpstr">
インスタンスはそれのデイニシャライザが呼ばれる後までは割り当て解除されないので、デイニシャライザはそれが呼ばれるところのインスタンスの全てのプロパティにアクセスすることができて、それらのプロパティに基づいてその挙動を修正することができます（たとえば閉じられる必要があるファイルの名前を調べることなど）。
</span><!--end_jpstr-->
</p>
</div>
<div class="section" id="ID144">
<h2><span class="enstr">Deinitializers in Action<a class="headerlink" href="#ID144" title="Permalink to this headline">¶</a></span><!--end_enstr-->
<span class="jpstr">
デイニシャライザの動作<a class="headerlink" href="#ID144" title="Permalink to this headline">¶</a>
</span><!--end_jpstr-->

</h2>
<p><span class="enstr">Here’s an example of a deinitializer in action. This example defines two new types, <code class="docutils literal notranslate"><span class="pre">Bank</span></code> and <code class="docutils literal notranslate"><span class="pre">Player</span></code>, for a simple game. The <code class="docutils literal notranslate"><span class="pre">Bank</span></code> class manages a made-up currency, which can never have more than 10,000 coins in circulation. There can only ever be one <code class="docutils literal notranslate"><span class="pre">Bank</span></code> in the game, and so the <code class="docutils literal notranslate"><span class="pre">Bank</span></code> is implemented as a class with type properties and methods to store and manage its current state:</span><!--end_enstr-->
<span class="jpstr">
デイニシャライザの動作の例は、ここにあります。この例は、２つの新しい型<code class="docutils literal notranslate"><span class="pre">Bank</span></code>と<code class="docutils literal notranslate"><span class="pre">Player</span></code>を、単純なゲームのために定義します。<code class="docutils literal notranslate"><span class="pre">Bank</span></code>クラスは、ある架空の通貨を管理します、そしてそれは、流通する10,000個以上のコインを決して持つことができません。１つの<code class="docutils literal notranslate"><span class="pre">Bank</span></code>だけがゲームにおいて存在することができます、なので<code class="docutils literal notranslate"><span class="pre">Bank</span></code>は型プロパティと型メソッドをもつクラスとして実装されて、その現在の状態を格納および管理します：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines">
<li><span class="k">class</span> <span class="nv">Bank</span> {
</li>
<li>    <span class="k">static</span> <span class="k">var</span> <span class="nv">coinsInBank</span> = <span class="m">10_000</span>
</li>
<li>    <span class="k">static</span> <span class="k">func</span> <span class="nv">distribute</span>(<span class="nv">coins</span> <span class="nv">numberOfCoinsRequested</span>: <span class="nc">Int</span>) -&gt; <span class="nc">Int</span> {
</li>
<li>        <span class="k">let</span> <span class="nv">numberOfCoinsToVend</span> = <span class="nv">min</span>(<span class="nv">numberOfCoinsRequested</span>, <span class="nv">coinsInBank</span>)
</li>
<li>        <span class="nv">coinsInBank</span> -= <span class="nv">numberOfCoinsToVend</span>
</li>
<li>        <span class="k">return</span> <span class="nv">numberOfCoinsToVend</span>
</li>
<li>    }
</li>
<li>    <span class="k">static</span> <span class="k">func</span> <span class="nv">receive</span>(<span class="nv">coins</span>: <span class="nc">Int</span>) {
</li>
<li>        <span class="nv">coinsInBank</span> += <span class="nv">coins</span>
</li>
<li>    }
</li>
<li>}
</li>
</ol></div></div></div>
<p><span class="enstr"><code class="docutils literal notranslate"><span class="pre">Bank</span></code> keeps track of the current number of coins it holds with its <code class="docutils literal notranslate"><span class="pre">coinsInBank</span></code> property. It also offers two methods—<code class="docutils literal notranslate"><span class="pre">distribute(coins:)</span></code> and <code class="docutils literal notranslate"><span class="pre">receive(coins:)</span></code>—to handle the distribution and collection of coins.</span><!--end_enstr-->
<span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">Bank</span></code>は、それがその<code class="docutils literal notranslate"><span class="pre">coinsInBank</span></code>プロパティで保持するコインの現在の数の情報を得続けます。それはまた、２つのメソッド ― <code class="docutils literal notranslate"><span class="pre">distribute(coins:)</span></code>と<code class="docutils literal notranslate"><span class="pre">receive(coins:)</span></code>— ― を提供して、コインの配布と回収を取り扱います。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">The <code class="docutils literal notranslate"><span class="pre">distribute(coins:)</span></code> method checks that there are enough coins in the bank before distributing them. If there aren’t enough coins, <code class="docutils literal notranslate"><span class="pre">Bank</span></code> returns a smaller number than the number that was requested (and returns zero if no coins are left in the bank). It returns an integer value to indicate the actual number of coins that were provided.</span><!--end_enstr-->
<span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">distribute(coins:)</span></code>メソッドは、十分なコインがそれらを配布する前に胴元にあることを確認します。十分なコインがないならば、<code class="docutils literal notranslate"><span class="pre">Bank</span></code>は要請された数より少ない数を返します（そしてコインが胴元に残っていないならばゼロを返します）。それは、提供されたコインの実際の数を示す整数値を返します。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">The <code class="docutils literal notranslate"><span class="pre">receive(coins:)</span></code> method simply adds the received number of coins back into the bank’s coin store.</span><!--end_enstr-->
<span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">receive(coins:)</span></code>メソッドは、単純に受け取ったコインの数を胴元のコインの蓄えに戻すよう加えます。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">The <code class="docutils literal notranslate"><span class="pre">Player</span></code> class describes a player in the game. Each player has a certain number of coins stored in their purse at any time. This is represented by the player’s <code class="docutils literal notranslate"><span class="pre">coinsInPurse</span></code> property:</span><!--end_enstr-->
<span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">Player</span></code>クラスは、ゲームにおけるプレーヤーを記述します。各々のプレーヤーは、特定の数のコインをいつでもかれらの財布に保管しておきます。これは、プレーヤーの<code class="docutils literal notranslate"><span class="pre">coinsInPurse</span></code>プロパティによって表されます：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines">
<li><span class="k">class</span> <span class="nv">Player</span> {
</li>
<li>    <span class="k">var</span> <span class="nv">coinsInPurse</span>: <span class="nc">Int</span>
</li>
<li>    <span class="k">init</span>(<span class="nv">coins</span>: <span class="nc">Int</span>) {
</li>
<li>        <span class="nv">coinsInPurse</span> = <span class="nv">Bank</span>.<span class="nv">distribute</span>(<span class="nv">coins</span>: <span class="nv">coins</span>)
</li>
<li>    }
</li>
<li>    <span class="k">func</span> <span class="nv">win</span>(<span class="nv">coins</span>: <span class="nc">Int</span>) {
</li>
<li>        <span class="nv">coinsInPurse</span> += <span class="nv">Bank</span>.<span class="nv">distribute</span>(<span class="nv">coins</span>: <span class="nv">coins</span>)
</li>
<li>    }
</li>
<li>    <span class="k">deinit</span> {
</li>
<li>        <span class="nv">Bank</span>.<span class="nv">receive</span>(<span class="nv">coins</span>: <span class="nv">coinsInPurse</span>)
</li>
<li>    }
</li>
<li>}
</li>
</ol></div></div></div>
<p><span class="enstr">Each <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance is initialized with a starting allowance of a specified number of coins from the bank during initialization, although a <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance may receive fewer than that number if not enough coins are available.</span><!--end_enstr-->
<span class="jpstr">
各<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスは、初期化の間に、胴元からの指定された数のコインの開始手当で初期化されます、とは言え、十分なコインが利用可能でなければ<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスはその数より少ないものを受け取るかもしれません。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">The <code class="docutils literal notranslate"><span class="pre">Player</span></code> class defines a <code class="docutils literal notranslate"><span class="pre">win(coins:)</span></code> method, which retrieves a certain number of coins from the bank and adds them to the player’s purse. The <code class="docutils literal notranslate"><span class="pre">Player</span></code> class also implements a deinitializer, which is called just before a <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance is deallocated. Here, the deinitializer simply returns all of the player’s coins to the bank:</span><!--end_enstr-->
<span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">Player</span></code>クラスは<code class="docutils literal notranslate"><span class="pre">win(coins:)</span></code>メソッドを定義します、それは、胴元からコインの特定の数を取り戻して、それらをプレーヤーの財布に加えます。<code class="docutils literal notranslate"><span class="pre">Player</span></code>クラスはまた、デイニシャライザを実装します、それは<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスが割り当て解除される直前に呼ばれます。ここでは、デイニシャライザは単に胴元にプレーヤーのコインの全てを返します：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines">
<li><span class="k">var</span> <span class="nv">playerOne</span>: <span class="nc">Player</span>? = <span class="nv">Player</span>(<span class="nv">coins</span>: <span class="m">100</span>)
</li>
<li><span class="nv">print</span>(<span class="s">"A new player has joined the game with </span>\<span class="p">(</span><span class="nv">playerOne</span>!.<span class="nv">coinsInPurse</span><span class="p">)</span><span class="s"> coins"</span>)
</li>
<li><span class="c"><span class="enstr">// Prints "A new player has joined the game with 100 coins"</span><!--end_enstr--><span class="jpstr">（「新しいプレーヤーが、100のコインを持ってゲームに参加しました」を出力します）</span><!--end_jpstr--></span>
</li>
<li><span class="nv">print</span>(<span class="s">"There are now </span>\<span class="p">(</span><span class="nv">Bank</span>.<span class="nv">coinsInBank</span><span class="p">)</span><span class="s"> coins left in the bank"</span>)
</li>
<li><span class="c"><span class="enstr">// Prints "There are now 9900 coins left in the bank"</span><!--end_enstr--><span class="jpstr">（「現在9900個のコインが胴元に残されます」を出力します）</span><!--end_jpstr--></span>
</li>
</ol></div></div></div>
<p><span class="enstr">A new <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance is created, with a request for 100 coins if they’re available. This <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance is stored in an optional <code class="docutils literal notranslate"><span class="pre">Player</span></code> variable called <code class="docutils literal notranslate"><span class="pre">playerOne</span></code>. An optional variable is used here, because players can leave the game at any point. The optional lets you track whether there’s currently a player in the game.</span><!--end_enstr-->
<span class="jpstr">
新しい<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスが、それが可能ならば100のコインを要請して作成されます。この<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスは、<code class="docutils literal notranslate"><span class="pre">playerOne</span></code>と呼ばれるオプショナルの<code class="docutils literal notranslate"><span class="pre">Player</span></code>変数に格納されます。オプショナルの変数がここで使われます、なぜなら、プレーヤーはどの時点でもゲームから離れることができるからです。オプショナルは、プレーヤーが現在ゲーム中かどうかあなたに追跡させます。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">Because <code class="docutils literal notranslate"><span class="pre">playerOne</span></code> is an optional, it’s qualified with an exclamation point (<code class="docutils literal notranslate"><span class="pre">!</span></code>) when its <code class="docutils literal notranslate"><span class="pre">coinsInPurse</span></code> property is accessed to print its default number of coins, and whenever its <code class="docutils literal notranslate"><span class="pre">win(coins:)</span></code> method is called:</span><!--end_enstr-->
<span class="jpstr">
<code class="docutils literal notranslate"><span class="pre">playerOne</span></code>がオプショナルであることから、それは感嘆符（<code class="docutils literal notranslate"><span class="pre">!</span></code>）で修飾されます、それのもつ<code class="docutils literal notranslate"><span class="pre">coinsInPurse</span></code>プロパティがその省略時のコイン数を出力するためにアクセスされる時に、そして何時でもそれの<code class="docutils literal notranslate"><span class="pre">win(coins:)</span></code>メソッドが呼ばれる時に：
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines">
<li><span class="nv">playerOne</span>!.<span class="nv">win</span>(<span class="nv">coins</span>: <span class="m">2_000</span>)
</li>
<li><span class="nv">print</span>(<span class="s">"PlayerOne won 2000 coins &amp; now has </span>\<span class="p">(</span><span class="nv">playerOne</span>!.<span class="nv">coinsInPurse</span><span class="p">)</span><span class="s"> coins"</span>)
</li>
<li><span class="c"><span class="enstr">// Prints "PlayerOne won 2000 coins &amp; now has 2100 coins"</span><!--end_enstr--><span class="jpstr">（「PlayerOneは2000のコインを獲得＆現在2100のコインを持ちます」を出力します）</span><!--end_jpstr--></span>
</li>
<li><span class="nv">print</span>(<span class="s">"The bank now only has </span>\<span class="p">(</span><span class="nv">Bank</span>.<span class="nv">coinsInBank</span><span class="p">)</span><span class="s"> coins left"</span>)
</li>
<li><span class="c"><span class="enstr">// Prints "The bank now only has 7900 coins left"</span><!--end_enstr--><span class="jpstr">（「胴元には現在7900個のコインだけが残っています」を出力します）</span><!--end_jpstr--></span>
</li>
</ol></div></div></div>
<p><span class="enstr">Here, the player has won 2,000 coins. The player’s purse now contains 2,100 coins, and the bank has only 7,900 coins left.</span><!--end_enstr-->
<span class="jpstr">
ここでは、プレーヤーは2,000個のコインを獲得しました。プレーヤーの財布は現在2,100個のコインを含みます、そして、胴元は7,900個のコインだけが残っています。
</span><!--end_jpstr-->
</p>
<div class="highlight-swift notranslate"><div class="code-sample"><div class="Swift highlight"><ol class="code-lines">
<li><span class="nv">playerOne</span> = <span class="k">nil</span>
</li>
<li><span class="nv">print</span>(<span class="s">"PlayerOne has left the game"</span>)
</li>
<li><span class="c"><span class="enstr">// Prints "PlayerOne has left the game"</span><!--end_enstr--><span class="jpstr">（「PlayerOneは、ゲームを離れました」を出力します）</span><!--end_jpstr--></span>
</li>
<li><span class="nv">print</span>(<span class="s">"The bank now has </span>\<span class="p">(</span><span class="nv">Bank</span>.<span class="nv">coinsInBank</span><span class="p">)</span><span class="s"> coins"</span>)
</li>
<li><span class="c"><span class="enstr">// Prints "The bank now has 10000 coins"</span><!--end_enstr--><span class="jpstr">（「胴元には現在10000コインがあります」を出力します）</span><!--end_jpstr--></span>
</li>
</ol></div></div></div>
<p><span class="enstr">The player has now left the game. This is indicated by setting the optional <code class="docutils literal notranslate"><span class="pre">playerOne</span></code> variable to <code class="docutils literal notranslate"><span class="pre">nil</span></code>, meaning “no <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance.” At the point that this happens, the <code class="docutils literal notranslate"><span class="pre">playerOne</span></code> variable’s reference to the <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance is broken. No other properties or variables are still referring to the <code class="docutils literal notranslate"><span class="pre">Player</span></code> instance, and so it’s deallocated in order to free up its memory. Just before this happens, its deinitializer is called automatically, and its coins are returned to the bank.</span><!--end_enstr-->
<span class="jpstr">
プレーヤーは、現在ゲームから離れました。これはオプショナルの<code class="docutils literal notranslate"><span class="pre">playerOne</span></code>変数に、「<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスがない」ことを意味する、<code class="docutils literal notranslate"><span class="pre">nil</span></code>を設定することによって示されます。これが起こる時点で、<code class="docutils literal notranslate"><span class="pre">playerOne</span></code>変数のもつ<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスへの参照は壊れています。他のいかなるプロパティまたは変数も、もはや<code class="docutils literal notranslate"><span class="pre">Player</span></code>インスタンスに言及していません、なのでそれは、それのもつメモリを開放するために順次割り当て解除されます。これが起こる直前に、そのデイニシャライザは自動的に呼ばれます、そしてそのコインは胴元に返されます。
</span><!--end_jpstr-->
</p>
</div>
</div>


    </article>
    <div class="next_previous">
        <p class="previous"><a href="Initialization.html"><span class="enstr">Initialization</span><!--end_enstr-->
<span class="jpstr">
初期化
</span><!--end_jpstr-->
</a></p>
        <p class="next"><a href="OptionalChaining.html"><span class="enstr">Optional Chaining</span><!--end_enstr-->
<span class="jpstr">
オプショナル連鎖
</span><!--end_jpstr-->
</a></p>
    </div>
</main>


<footer role="contentinfo">
  <aside>
    <a href="//swift.org/atom.xml" title="Subscribe to Site Updates"><i class="feed">Subscribe</i></a>
    <a href="https://twitter.com/swiftlang" rel="nofollow" title="Follow @SwiftLang on Twitter"><i class="twitter">Twitter</i></a>
  </aside>

  <p class="copyright">Copyright © 2022 Apple Inc. All rights reserved.</p>
  <p class="trademark">Swift and the Swift logo are trademarks of Apple Inc.</p>
  <p class="privacy">
    <a href="//www.apple.com/privacy/privacy-policy/">Privacy Policy</a>
    <a href="//www.apple.com/legal/privacy/en-ww/cookies/">Cookies</a>
  </p>
</footer>
<div id="jump_to_overlay"></div>
<script src="../static/javascripts/application.js"></script>
  
</body>
</html>
