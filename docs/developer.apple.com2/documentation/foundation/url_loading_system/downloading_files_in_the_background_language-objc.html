<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<link rel="icon" href="../../../tutorials/favicon.ico">
<link rel="mask-icon" href="../../../tutorials/apple-logo.svg" color="#333333">
<title>Downloading Files in the Background | Apple Developer Documentation</title>
<script>var baseUrl = "/tutorials/"</script><link href="../../../tutorials/css/documentation-topic.8eb22d1f.css" rel="prefetch">
<link href="../../../tutorials/css/documentation-topic~topic~tutorials-overview~welcome-experience-featured~welcome-experience-technologies.a062d316.css" rel="prefetch">
<link href="../../../tutorials/css/documentation-topic~topic~welcome-experience-technologies.34ebe519.css" rel="prefetch">
<link href="../../../tutorials/css/global-head-footer.db124fc1.css" rel="prefetch">
<link href="../../../tutorials/css/topic.31b0bec5.css" rel="prefetch">
<link href="../../../tutorials/css/topic~tutorials-overview.41a092e2.css" rel="prefetch">
<link href="../../../tutorials/css/tutorials-overview.00db02fd.css" rel="prefetch">
<link href="../../../tutorials/css/welcome-experience-featured.c86a9569.css" rel="prefetch">
<link href="../../../tutorials/css/welcome-experience-technologies.28185ce7.css" rel="prefetch">
<link href="../../../tutorials/js/chunk-2d0d3105.cd72cc8e.js" rel="prefetch">
<link href="../../../tutorials/js/chunk-2d217dfc.6b0d6c31.js" rel="prefetch">
<link href="../../../tutorials/js/documentation-topic.c7c1ed67.js" rel="prefetch">
<link href="../../../tutorials/js/documentation-topic~topic~tutorials-overview~welcome-experience-featured~welcome-experience-technologies.343caaa2.js" rel="prefetch">
<link href="../../../tutorials/js/documentation-topic~topic~welcome-experience-technologies.5e8c4ca9.js" rel="prefetch">
<link href="../../../tutorials/js/global-head-footer.103dd145.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-bash.1b52852f.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-c.d1db3f17.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-cpp.3e74d0a2.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-css.75eab1fe.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-custom-markdown.e7914a9c.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-custom-swift.4362ac8b.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-diff.62d66733.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-http.163e45b6.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-java.3db08e2e.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-javascript.725f2e9d.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-json.471128d2.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-llvm.6100b125.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-markdown.90077643.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-objectivec.7b30f247.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-perl.757d7b6f.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-php.b6816280.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-python.bf278e30.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-ruby.f889d392.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-scss.62ee18da.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-shell.dd7f411f.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-swift.40642860.js" rel="prefetch">
<link href="../../../tutorials/js/highlight-js-xml.9c3688c7.js" rel="prefetch">
<link href="../../../tutorials/js/topic.bc714cf2.js" rel="prefetch">
<link href="../../../tutorials/js/topic~tutorials-overview.98c54aee.js" rel="prefetch">
<link href="../../../tutorials/js/tutorials-overview.0065600a.js" rel="prefetch">
<link href="../../../tutorials/js/welcome-experience-featured.bd14a0ea.js" rel="prefetch">
<link href="../../../tutorials/js/welcome-experience-technologies.0e19f314.js" rel="prefetch">
<link href="../../../tutorials/css/chunk-vendors.ec9e036c.css" rel="preload" as="style">
<link href="../../../tutorials/css/index.86fa6d6d.css" rel="preload" as="style">
<link href="../../../tutorials/js/chunk-vendors.011d2fc1.js" rel="preload" as="script">
<link href="../../../tutorials/js/index.6e8bf906.js" rel="preload" as="script">
<link href="../../../tutorials/css/chunk-vendors.ec9e036c.css" rel="stylesheet">
<link href="../../../tutorials/css/index.86fa6d6d.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../../../tutorials/css/documentation-topic~topic~tutorials-overview~welcome-experience-featured~welcome-experience-technologies.a062d316.css">
<script charset="utf-8" src="../../../tutorials/js/documentation-topic~topic~tutorials-overview~welcome-experience-featured~welcome-experience-technologies.343caaa2.js"></script><link rel="stylesheet" type="text/css" href="../../../tutorials/css/documentation-topic~topic~welcome-experience-technologies.34ebe519.css">
<script charset="utf-8" src="../../../tutorials/js/documentation-topic~topic~welcome-experience-technologies.5e8c4ca9.js"></script><link rel="stylesheet" type="text/css" href="../../../tutorials/css/documentation-topic.8eb22d1f.css">
<script charset="utf-8" src="../../../tutorials/js/documentation-topic.c7c1ed67.js"></script><link rel="stylesheet" type="text/css" href="../../../tutorials/css/global-head-footer.db124fc1.css">
<script charset="utf-8" src="../../../tutorials/js/global-head-footer.103dd145.js"></script>
</head>
<body data-color-scheme="auto">
<div id="_omniture_top">
<script>var s_account="awdappledeveloper"</script>
</div>
<noscript>
<style>.noscript{font-family:"SF Pro Display","SF Pro Icons","Helvetica Neue",Helvetica,Arial,sans-serif;margin:92px auto 140px auto;text-align:center;width:980px}.noscript-title{color:#111;font-size:48px;font-weight:600;letter-spacing:-.003em;line-height:1.08365;margin:0 auto 54px auto;width:502px}@media only screen and (max-width:1068px){.noscript{margin:90px auto 120px auto;width:692px}.noscript-title{font-size:40px;letter-spacing:0;line-height:1.1;margin:0 auto 45px auto;width:420px}}@media only screen and (max-width:735px){.noscript{margin:45px auto 60px auto;width:87.5%}.noscript-title{font-size:32px;letter-spacing:.004em;line-height:1.125;margin:0 auto 35px auto;max-width:330px;width:auto}}#loading-placeholder{display:none}</style>
<div class="noscript">
<h1 class="noscript-title">This page requires JavaScript.</h1>
<p>Please turn on JavaScript in your browser and refresh the page to view its content.</p>
</div>
</noscript>
<div data-v-2f8d976c="" data-v-2fddaabf="" id="app" class="core-app">
<a data-v-2f8d976c="" href="#main" id="skip-nav">Skip Navigation</a><!----><div data-v-2fddaabf="" class="global-header" data-v-2f8d976c="">
<aside id="ac-gn-segmentbar" lang="en-US" dir="ltr" class="ac-gn-segmentbar"></aside><input type="checkbox" id="ac-gn-menustate" class="ac-gn-menustate"><nav id="ac-globalnav" role="navigation" aria-label="Global" data-hires="false" data-analytics-region="global nav" lang="en-US" dir="ltr" data-store-locale="us" data-store-api="/[storefront]/shop/bag/status" data-search-locale="en_US" data-search-api="/search-services/suggestions" class="js no-touch"><div class="ac-gn-content">
<ul class="ac-gn-header">
<li class="ac-gn-item ac-gn-menuicon">
<label for="ac-gn-menustate" aria-hidden="true" class="ac-gn-menu icon-label"><span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-top"><span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-top"></span></span><span class="ac-gn-menuicon-bread ac-gn-menuicon-bread-bottom"><span class="ac-gn-menuicon-bread-crust ac-gn-menuicon-bread-crust-bottom"></span></span></label><a href="#ac-gn-menustate" role="button" id="ac-gn-menuanchor-open" class="ac-gn-menuanchor ac-gn-menuanchor-open"><span class="ac-gn-menuanchor-label">Global Nav Open Menu</span></a><a href="#" role="button" id="ac-gn-menuanchor-close" class="ac-gn-menuanchor ac-gn-menuanchor-close"><span class="ac-gn-menuanchor-label">Global Nav Close Menu</span></a>
</li>
<li class="ac-gn-item ac-gn-apple"><a href="/" data-analytics-title="appledeveloper home" id="ac-gn-firstfocus-small" class="ac-gn-link ac-gn-link-apple-developer"><span class="ac-gn-link-text">Apple Developer</span></a></li>
</ul>
<div role="search" class="ac-gn-search-placeholder-container"><div class="ac-gn-search ac-gn-search-small"><a id="ac-gn-link-search-small" href="/search/" data-analytics-title="search" data-analytics-click="search" data-analytics-intrapage-link="" aria-label="Search Developer" class="ac-gn-link" role="button" aria-haspopup="true"></a><div class="ac-gn-search-placeholder-bar">
<div class="ac-gn-search-placeholder-input"><div aria-hidden="true" class="ac-gn-search-placeholder-input-text">
<div class="ac-gn-link-search ac-gn-search-placeholder-input-icon"></div>
<span class="ac-gn-search-placeholder">Search Developer</span>
</div></div>
<div class="ac-gn-searchview-close
                  ac-gn-searchview-close-small
                  ac-gn-search-placeholder-searchview-close"><span aria-hidden="true" class="ac-gn-searchview-close-cancel">Cancel</span></div>
</div></a></div></div>
<ul class="ac-gn-list">
<li class="ac-gn-item ac-gn-apple"><a href="/" data-analytics-title="appledeveloper home" id="ac-gn-firstfocus" class="ac-gn-link ac-gn-link-apple-developer"><span class="ac-gn-link-text">Apple Developer</span></a></li>
<li class="ac-gn-item ac-gn-item-menu ac-gn-discover"><a href="/discover/" data-analytics-title="discover" class="ac-gn-link ac-gn-link-discover"><span class="ac-gn-link-text">Discover</span></a></li>
<li class="ac-gn-item ac-gn-item-menu ac-gn-design"><a href="/design/" data-analytics-title="design" class="ac-gn-link ac-gn-link-design"><span class="ac-gn-link-text">Design</span></a></li>
<li class="ac-gn-item ac-gn-item-menu ac-gn-develop"><a href="/develop/" data-analytics-title="develop" class="ac-gn-link ac-gn-link-develop"><span class="ac-gn-link-text">Develop</span></a></li>
<li class="ac-gn-item ac-gn-item-menu ac-gn-distribute"><a href="/distribute/" data-analytics-title="distribute" class="ac-gn-link ac-gn-link-distribute"><span class="ac-gn-link-text">Distribute</span></a></li>
<li class="ac-gn-item ac-gn-item-menu ac-gn-dsupport"><a href="/support/" data-analytics-title="dsupport" class="ac-gn-link ac-gn-link-dsupport"><span class="ac-gn-link-text">Support</span></a></li>
<li class="ac-gn-item ac-gn-item-menu ac-gn-account"><a href="/account/" data-analytics-title="account" class="ac-gn-link ac-gn-link-account"><span class="ac-gn-link-text">Account</span></a></li>
<li role="search" class="ac-gn-item ac-gn-item-menu ac-gn-search"><a id="ac-gn-link-search" href="/search/" data-analytics-title="search" data-analytics-click="search" data-analytics-intrapage-link="" aria-label="Search Developer" class="ac-gn-link ac-gn-link-search" role="button" aria-haspopup="true"></a></li>
</ul>
<aside id="ac-gn-searchview" role="search" data-analytics-region="search" class="ac-gn-searchview"><div class="ac-gn-searchview-content">
<div class="ac-gn-searchview-bar"><div class="ac-gn-searchview-bar-wrapper">
<form id="ac-gn-searchform" action="/search/" method="get" class="ac-gn-searchform"><div class="ac-gn-searchform-wrapper">
<input id="ac-gn-searchform-input" type="text" name="q" aria-label="Search Developer" placeholder="Search Developer" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="true" aria-owns="quicklinks suggestions" class="ac-gn-searchform-input"><button id="ac-gn-searchform-submit" type="submit" disabled aria-label="Submit Search" class="ac-gn-searchform-submit"></button><button id="ac-gn-searchform-reset" type="reset" disabled aria-label="Clear Search" class="ac-gn-searchform-reset"><span class="ac-gn-searchform-reset-background"></span></button>
</div></form>
<button id="ac-gn-searchview-close-small" aria-label="Cancel Search" class="ac-gn-searchview-close ac-gn-searchview-close-small"><span aria-hidden="true" class="ac-gn-searchview-close-cancel">  Cancel  </span></button>
</div></div>
<aside id="ac-gn-searchresults" data-string-quicklinks="Quick Links" data-string-suggestions="Suggested Searches" data-string-noresults="" class="ac-gn-searchresults"></aside>
</div>
<button id="ac-gn-searchview-close" aria-label="Cancel Search" class="ac-gn-searchview-close"><span class="ac-gn-searchview-close-wrapper"><span class="ac-gn-searchview-close-left"></span><span class="ac-gn-searchview-close-right"></span></span></button></aside>
</div></nav><div class="ac-gn-blur"></div>
<div id="ac-gn-curtain" class="ac-gn-curtain"></div>
<div id="ac-gn-placeholder" class="ac-nav-placeholder"></div>
</div>
<div data-v-2f8d976c="" id="nav-sticky-anchor"></div>
<div data-v-2fddaabf="" class="router-content" data-v-2f8d976c=""><div data-v-3042c2e3="" class="doc-topic">
<nav data-v-449d79fe="" data-v-85149df0="" data-v-2d1219c2="" data-v-3042c2e3="" role="navigation" class="nav documentation-nav theme-dark apple-documentation-nav theme-dark nav--solid-background nav--fullwidth-border" aria-label="API Reference"><div data-v-449d79fe="" class="nav__wrapper">
<div data-v-449d79fe="" class="nav__background"></div><!---->
<div data-v-449d79fe="" class="nav-content">
<div data-v-449d79fe="" class="nav-title"><a data-v-85149df0="" href="../../../index.html" class="nav-title-link" data-v-449d79fe="">  Documentation  </a></div>
<div data-v-449d79fe="" class="nav-menu">
<a data-v-449d79fe="" href="#" role="button" class="nav-ax-toggle"><span data-v-449d79fe="" class="visuallyhidden">Open Menu</span></a><div data-v-449d79fe="" class="nav-menu-tray">
<ul data-v-4a778e88="" data-v-4264aa3f="" data-v-85149df0="" data-previous-menu-children-count="0" class="nav-menu-items hierarchy" aria-label="Breadcrumbs" data-v-449d79fe="">
<li data-v-65b9129d="" data-v-4264aa3f="" class="nav-menu-item hierarchy-item nav-menu-item--animated" data-v-627bd0c5="" data-v-4a778e88="">
<svg data-v-7f60a732="" data-v-4264aa3f="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon inline-chevron-right-icon hierarchy-item-icon icon-inline" viewbox="0 0 14 14" data-v-627bd0c5="" data-v-65b9129d=""><path data-v-7f60a732="" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></svg><a data-v-4264aa3f="" href="../../../documentation/foundation_language-objc.html" class="parent item nav-menu-link router-link-active" data-v-627bd0c5="" data-v-65b9129d=""> <span class="enstr">Foundation</span><!--end_enstr-->
<span class="jpstr">
ファウンデーション
</span><!--end_jpstr-->
 </a>
</li><!---->
<li data-v-65b9129d="" data-v-4264aa3f="" class="nav-menu-item hierarchy-item nav-menu-item--animated" data-v-627bd0c5="" data-v-4a778e88="">
<svg data-v-7f60a732="" data-v-4264aa3f="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon inline-chevron-right-icon hierarchy-item-icon icon-inline" viewbox="0 0 14 14" data-v-627bd0c5="" data-v-65b9129d=""><path data-v-7f60a732="" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></svg><a data-v-4264aa3f="" href="../../../documentation/foundation/url_loading_system_language-objc.html" class="parent item nav-menu-link router-link-active" data-v-627bd0c5="" data-v-65b9129d=""> <span class="enstr">URL Loading System</span><!--end_enstr-->
<span class="jpstr">
URLローディングシステム
</span><!--end_jpstr-->
 </a>
</li>
<li data-v-65b9129d="" data-v-4264aa3f="" class="nav-menu-item hierarchy-item nav-menu-item--animated" data-v-627bd0c5="" data-v-4a778e88="">
<svg data-v-7f60a732="" data-v-4264aa3f="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon inline-chevron-right-icon hierarchy-item-icon icon-inline" viewbox="0 0 14 14" data-v-627bd0c5="" data-v-65b9129d=""><path data-v-7f60a732="" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></svg><span data-v-627bd0c5="" data-v-65b9129d="" class="current item"> <span class="enstr">Downloading Files in the Background</span><!--end_enstr-->
<span class="jpstr">
ファイルをバックグラウンドでダウンロードする
</span><!--end_jpstr-->
 </span>
</li>
</ul>
<ul data-v-4a778e88="" data-v-2d1219c2="" data-previous-menu-children-count="3" class="nav-menu-items nav-menu-settings" data-v-449d79fe="">
<li data-v-65b9129d="" data-v-45c24d0c="" data-v-2d1219c2="" class="nav-menu-item nav-menu-setting language-container nav-menu-item--animated" data-v-4a778e88="">
<div data-v-45c24d0c="" data-v-65b9129d="" class="language-toggle-container">
<select data-v-45c24d0c="" data-v-65b9129d="" aria-hidden="true" tabindex="-1" class="language-dropdown language-sizer"><option data-v-45c24d0c="" data-v-65b9129d="" selected>Objective-C</option></select><label data-v-45c24d0c="" data-v-65b9129d="" for="language-toggle" class="nav-menu-setting-label">Language:</label><select data-v-45c24d0c="" data-v-65b9129d="" id="language-toggle" class="language-dropdown nav-menu-link" style="width: 74px;"><option data-v-45c24d0c="" data-v-65b9129d="" value="swift">  Swift  </option>
<option data-v-45c24d0c="" data-v-65b9129d="" value="occ">  Objective-C  </option></select><svg data-v-7f60a732="" data-v-45c24d0c="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon inline-chevron-down-icon toggle-icon icon-inline" viewbox="0 0 14 14" data-v-65b9129d=""><path data-v-7f60a732="" d="m6.94042969 10.6855469c.17089843 0 .34179687-.0683594.45800781-.1982422l5.2910156-5.42089845c.116211-.11621094.1845703-.26660156.1845703-.4375 0-.35546875-.2666015-.62890625-.6220703-.62890625-.1708984 0-.328125.06835938-.4443359.17773438l-4.86718751 4.9765625-4.87402344-4.9765625c-.109375-.109375-.26660156-.17773438-.44433594-.17773438-.35546875 0-.62207031.2734375-.62207031.62890625 0 .17089844.06835938.32128906.18457031.44433594l5.29101563 5.41406251c.12988281.1298828.28710937.1982422.46484375.1982422z"></path></svg>
</div>
<div data-v-45c24d0c="" data-v-65b9129d="" class="language-list-container">
<span data-v-45c24d0c="" data-v-65b9129d="" class="nav-menu-setting-label">Language:</span><ul data-v-45c24d0c="" data-v-65b9129d="" class="language-list">
<li data-v-45c24d0c="" data-v-65b9129d="" class="language-list-item"><a data-v-45c24d0c="" href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background.html" class="nav-menu-link router-link-active" data-v-65b9129d="">  Swift  </a></li>
<li data-v-45c24d0c="" data-v-65b9129d="" class="language-list-item"><span data-v-45c24d0c="" data-v-65b9129d="" data-language="occ" aria-current="page" class="current-language">  Objective-C  </span></li>
</ul>
</div>
</li>
<li data-v-65b9129d="" data-v-cf06df92="" data-v-2d1219c2="" class="nav-menu-item nav-menu-setting nav-menu-item--animated" data-v-4a778e88="">
<label data-v-cf06df92="" data-v-65b9129d="" for="version-label" class="nav-menu-setting-label">  API Changes:  </label><span data-v-cf06df92="" data-v-65b9129d=""><span class="enstr">None</span><!--end_enstr-->
<span class="jpstr">
なし
</span><!--end_jpstr-->
</span>
</li><!---->

</ul>
</div>
</div>
<div data-v-449d79fe="" class="nav-actions"><a data-v-449d79fe="" href="#" tabindex="-1" aria-hidden="true" class="nav-menucta"><span data-v-449d79fe="" class="nav-menucta-chevron"></span></a></div>
</div>
</div><!---->
</nav><main data-v-3042c2e3="" id="main" role="main" tabindex="0" class="main"><div data-v-5898873b="" data-v-3042c2e3="" class="topictitle">
<span data-v-5898873b="" class="eyebrow">Article</span><h1 data-v-5898873b="" class="title"><span class="enstr">Downloading Files in the Background</span><!--end_enstr-->
<span class="jpstr">
ファイルをバックグラウンドでダウンロードする
</span><!--end_jpstr-->
</h1>
</div>
<div data-v-3042c2e3="" class="container content-grid">
<div data-v-6bd6a791="" data-v-3042c2e3="" class="description"><!---->
<div data-v-702ae484="" data-v-b3ef72b8="" data-v-3042c2e3="" class="abstract content" data-v-6bd6a791=""><span class="enstr">Create tasks that download files while your app is inactive.</span><!--end_enstr-->
<span class="jpstr">
あなたのアプリが活動していない間にファイルをダウンロードする、そういうタスクを作成します。
</span><!--end_jpstr-->
</div><!----><!----><!----><!---->

</div>
<div data-v-402f5da0="" data-v-3042c2e3="" class="summary"><!----><!---->
<div data-v-4e4ddb7c="" data-v-72be2db6="" data-v-3042c2e3="" class="summary-section technologies" role="complementary" aria-label="Technology" data-v-402f5da0="">
<p data-v-5281efbf="" data-v-72be2db6="" class="title" data-v-4e4ddb7c="">Technology</p>
<ul data-v-60f25add="" data-v-72be2db6="" class="summary-list" data-v-4e4ddb7c=""><li data-v-946388d8="" data-v-72be2db6="" class="summary-list-item" data-v-60f25add=""><span data-v-72be2db6="" data-v-946388d8="" class="name"><span class="enstr">Foundation</span><!--end_enstr-->
<span class="jpstr">
ファウンデーション
</span><!--end_jpstr-->
</span></li></ul>
</div><!---->
<div data-v-4e4ddb7c="" data-v-a767d234="" data-v-3042c2e3="" class="summary-section on-this-page" data-v-402f5da0=""><nav data-v-a767d234="" data-v-4e4ddb7c="" aria-labelledby="on-this-page-title"><p data-v-5281efbf="" data-v-a767d234="" class="title" id="on-this-page-title" data-v-4e4ddb7c=""><span class="enstr">On This Page</span><!--end_enstr-->
<span class="jpstr">
この項には
</span><!--end_jpstr-->
</p>
<ul data-v-60f25add="" data-v-a767d234="" class="summary-list" data-v-4e4ddb7c="">
<li data-v-946388d8="" data-v-a767d234="" class="summary-list-item" data-v-60f25add=""><a data-v-a767d234="" href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#overview" class="link" data-v-946388d8=""><span data-v-a767d234="" class="link-text">Overview</span><span data-v-a767d234="" aria-hidden="true" class="icon-holder">&nbsp;<svg data-v-7f60a732="" data-v-a767d234="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon inline-chevron-down-circle-icon link-icon icon-inline" viewbox="0 0 14 14"><path data-v-7f60a732="" d="m6.97265625 13.9453125c3.81445315 0 6.97265625-3.1582031 6.97265625-6.97265625 0-3.80761719-3.1650391-6.97265625-6.97949219-6.97265625-3.80761719 0-6.96582031 3.16503906-6.96582031 6.97265625 0 3.81445315 3.16503906 6.97265625 6.97265625 6.97265625zm0-1.1621094c-3.2265625 0-5.80371094-2.5839843-5.80371094-5.81054685 0-3.21972656 2.5703125-5.81054687 5.796875-5.81054687 3.22656249 0 5.81054689 2.59082031 5.81739629 5.81054687.0068225 3.22656255-2.5839978 5.81054685-5.81056035 5.81054685zm.67675781-3.8144531 2.68652344-2.85058594c.1982422-.21191406.2050781-.53320312.0205078-.71777344-.2050781-.21875-.54003905-.22558593-.73828124-.01367187l-2.64550781 2.80273437-2.64550781-2.80273437c-.19140625-.21191406-.53320313-.20507813-.73828125.01367187-.18457031.18457032-.17773438.50585938.02050781.71777344l2.68652344 2.85058594c.43066406.45117188.9296875.45117188 1.35351562 0z"></path></svg></span></a></li>
<li data-v-946388d8="" data-v-a767d234="" class="summary-list-item" data-v-60f25add=""><a data-v-a767d234="" href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#see-also" class="link" data-v-946388d8=""><span class="enstr"><span data-v-a767d234="" class="link-text">See Also</span><span data-v-a767d234="" aria-hidden="true" class="icon-holder">&nbsp;<svg data-v-7f60a732="" data-v-a767d234="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon inline-chevron-down-circle-icon link-icon icon-inline" viewbox="0 0 14 14"><path data-v-7f60a732="" d="m6.97265625 13.9453125c3.81445315 0 6.97265625-3.1582031 6.97265625-6.97265625 0-3.80761719-3.1650391-6.97265625-6.97949219-6.97265625-3.80761719 0-6.96582031 3.16503906-6.96582031 6.97265625 0 3.81445315 3.16503906 6.97265625 6.97265625 6.97265625zm0-1.1621094c-3.2265625 0-5.80371094-2.5839843-5.80371094-5.81054685 0-3.21972656 2.5703125-5.81054687 5.796875-5.81054687 3.22656249 0 5.81054689 2.59082031 5.81739629 5.81054687.0068225 3.22656255-2.5839978 5.81054685-5.81056035 5.81054685zm.67675781-3.8144531 2.68652344-2.85058594c.1982422-.21191406.2050781-.53320312.0205078-.71777344-.2050781-.21875-.54003905-.22558593-.73828124-.01367187l-2.64550781 2.80273437-2.64550781-2.80273437c-.19140625-.21191406-.53320313-.20507813-.73828125.01367187-.18457031.18457032-.17773438.50585938.02050781.71777344l2.68652344 2.85058594c.43066406.45117188.9296875.45117188 1.35351562 0z"></path></svg></span></span><!--end_enstr-->
<span class="jpstr">
<span data-v-a767d234="" class="link-text">参照</span><span data-v-a767d234="" aria-hidden="true" class="icon-holder">&nbsp;<svg data-v-7f60a732="" data-v-a767d234="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon inline-chevron-down-circle-icon link-icon icon-inline" viewbox="0 0 14 14"><path data-v-7f60a732="" d="m6.97265625 13.9453125c3.81445315 0 6.97265625-3.1582031 6.97265625-6.97265625 0-3.80761719-3.1650391-6.97265625-6.97949219-6.97265625-3.80761719 0-6.96582031 3.16503906-6.96582031 6.97265625 0 3.81445315 3.16503906 6.97265625 6.97265625 6.97265625zm0-1.1621094c-3.2265625 0-5.80371094-2.5839843-5.80371094-5.81054685 0-3.21972656 2.5703125-5.81054687 5.796875-5.81054687 3.22656249 0 5.81054689 2.59082031 5.81739629 5.81054687.0068225 3.22656255-2.5839978 5.81054685-5.81056035 5.81054685zm.67675781-3.8144531 2.68652344-2.85058594c.1982422-.21191406.2050781-.53320312.0205078-.71777344-.2050781-.21875-.54003905-.22558593-.73828124-.01367187l-2.64550781 2.80273437-2.64550781-2.80273437c-.19140625-.21191406-.53320313-.20507813-.73828125.01367187-.18457031.18457032-.17773438.50585938.02050781.71777344l2.68652344 2.85058594c.43066406.45117188.9296875.45117188 1.35351562 0z"></path></svg></span>
</span><!--end_jpstr-->
</a></li>
</ul></nav></div>
</div>
<div data-v-6f560fdc="" data-v-3042c2e3="" class="primary-content"><div data-v-702ae484="" data-v-6f560fdc="" class="content">
<h2 id="overview"><span class="enstr">Overview</span><!--end_enstr-->
<span class="jpstr">
概要
</span><!--end_jpstr-->
</h2>
<p><span class="enstr">For long-running and nonurgent transfers, you can create tasks that run in the background. These tasks continue to run even when your app is suspended, allowing your app to access the downloaded file when the app is resumed.</span><!--end_enstr-->
<span class="jpstr">
長く動作するそして急を要しない転送のために、あなたはバックグラウンドで動作するタスクを作成できます。これらのタスクは、あなたのアプリが一時停止される時でさえ実行を継続して、アプリが再開される時に、あなたのアプリがそのダウンロードされるファイルにアクセスできるようにします。
</span><!--end_jpstr-->
 </p>
<aside data-v-692ba3de="" aria-label="note" class="note"><p data-v-692ba3de="" class="label"><span class="enstr">Note</span><!--end_enstr-->
<span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
<p data-v-692ba3de=""><span class="enstr">You don’t have to do all background network activity with background sessions as described in this article. Apps that declare appropriate background modes can use default URL sessions and data tasks, just as if they were in the foreground.</span><!--end_enstr-->
<span class="jpstr">
あなたは、全てのバックグラウンドネットワーク活動をバックグラウンドセッションで、この記事で記述されるように行う必要はありません。適切なバックグラウンドモードを宣言するアプリは、省略時のURLセッションとデータタスクを、あたかもそれらが前面であったかのように使用できます。
</span><!--end_jpstr-->
</p></aside><h3 id="2920773"><span class="enstr">Configure the Background Session</span><!--end_enstr-->
<span class="jpstr">
バックグラウンドセッションを構成設定する
</span><!--end_jpstr-->
</h3>
<p><span class="enstr">To perform a background download, configure a <a href="../../../documentation/foundation/nsurlsession_language-objc.html" class=""><code data-v-88c637be="">NSURLSession</code></a> for background operation. <a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2920777" class="">Listing 1</a> demonstrates this process.</span><!--end_enstr-->
<span class="jpstr">
バックグラウンドダウンロードを実行するには、<a href="../../../documentation/foundation/nsurlsession_language-objc.html" class=""><code data-v-88c637be="">NSURLSession</code></a>をバックグラウンド操作に対して構成設定してください。<a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2920777" class="">コード出力 1</a> は、この過程を実演します。
</span><!--end_jpstr-->
 </p>
<ol>
<li><p><span class="enstr">Create a background <a href="../../../documentation/foundation/nsurlsessionconfiguration_language-objc.html" class=""><code data-v-88c637be="">NSURLSession<wbr data-v-88c637be="">Configuration</wbr></code></a> object with the class method <a href="../../../documentation/foundation/nsurlsessionconfiguration/1407496-backgroundsessionconfigurationwi_language-objc.html" class=""><code data-v-88c637be="">background<wbr data-v-88c637be="">Session<wbr data-v-88c637be="">Configuration<wbr data-v-88c637be="">With<wbr data-v-88c637be="">Identifier:</wbr></wbr></wbr></wbr></code></a> of <span><code data-v-88c637be="">NSURLSession</code></span>, providing a session identifier that is unique within your app. Because most apps need only a few background sessions (usually one), you can use a fixed string for the identifier, rather than a dynamically generated identifier. The identifier doesn’t need to be unique globally.</span><!--end_enstr-->
<span class="jpstr">
バックグラウンド<a href="../../../documentation/foundation/nsurlsessionconfiguration_language-objc.html" class=""><code data-v-88c637be="">NSURLSession<wbr data-v-88c637be="">Configuration</wbr></code></a>オブジェクトを<span><code data-v-88c637be="">NSURLSession</code></span>のクラスメソッド<a href="../../../documentation/foundation/nsurlsessionconfiguration/1407496-backgroundsessionconfigurationwi_language-objc.html" class=""><code data-v-88c637be="">background<wbr data-v-88c637be="">Session<wbr data-v-88c637be="">Configuration<wbr data-v-88c637be="">With<wbr data-v-88c637be="">Identifier:</wbr></wbr></wbr></wbr></code></a>で作成してください、あなたのアプリ内で特有であるセッション識別子を提供してください。ほとんどのアプリがほんの少しのバックグラウンドセッション（通常は１つ）を必要とすることから、あなたはその識別子に対して固定された文字列を使うことができます、動的に生成される識別子ではなく。識別子は、グローバルに特有である必要はありません。
</span><!--end_jpstr-->
 </p></li>
<li><p><span class="enstr">To have the system to wake up your app when a task completes and the app is in the background, make sure the <a href="../../../documentation/foundation/nsurlsessionconfiguration/1617174-sessionsendslaunchevents_language-objc.html" class=""><code data-v-88c637be="">session<wbr data-v-88c637be="">Sends<wbr data-v-88c637be="">Launch<wbr data-v-88c637be="">Events</wbr></wbr></wbr></code></a> property is set to <code data-v-88c637be="">true</code> (the default).</span><!--end_enstr-->
<span class="jpstr">
システムにあなたのアプリを目覚めさせるには、あるタスクが完了するそしてそのアプリがバックグラウンドである時は、<a href="../../../documentation/foundation/nsurlsessionconfiguration/1617174-sessionsendslaunchevents_language-objc.html" class=""><code data-v-88c637be="">session<wbr data-v-88c637be="">Sends<wbr data-v-88c637be="">Launch<wbr data-v-88c637be="">Events</wbr></wbr></wbr></code></a>プロパティが<code data-v-88c637be="">true</code>に設定される（初期状態）ことを確実にしてください。
</span><!--end_jpstr-->
</p></li>
<li><p><span class="enstr">For time-insensitive tasks, enable the <a href="../../../documentation/foundation/nsurlsessionconfiguration/1411552-discretionary_language-objc.html" class=""><code data-v-88c637be="">discretionary</code></a> property, so the system can wait for optimal conditions to perform the transfer, such as when the device is plugged in or connected to Wi-Fi.</span><!--end_enstr-->
<span class="jpstr">
時間に無頓着なタスクに対して、<a href="../../../documentation/foundation/nsurlsessionconfiguration/1411552-discretionary_language-objc.html" class=""><code data-v-88c637be="">discretionary</code></a>プロパティを可能にしてください、それでシステムは転送を実行するのに最適な条件を待つことができます、たとえばデバイスがネット接続されるかまたはWi-Fiに接続される時に。
</span><!--end_jpstr-->
</p></li>
<li><p><span class="enstr">Use the <span><code data-v-88c637be="">NSURLSession<wbr data-v-88c637be="">Configuration</wbr></code></span> instance to create a <span><code data-v-88c637be="">NSURLSession</code></span> instance. Provide a delegate, to receive events from the background transfer.</span><!--end_enstr-->
<span class="jpstr">
<span><code data-v-88c637be="">NSURLSession<wbr data-v-88c637be="">Configuration</wbr></code></span>インスタンスを使って<span><code data-v-88c637be="">NSURLSession</code></span>インスタンスを作成してください。ある委任先を提供してください、バックグラウンド転送からのイベントを受け取るために。
</span><!--end_jpstr-->
 </p></li>
</ol>
<p></p>
<figure data-v-5c8f347c="" id="2920777"><figcaption data-v-8e4998ac="" class="caption" data-v-5c8f347c=""><span class="enstr"><strong data-v-8e4998ac="">Listing 1</strong>&nbsp;Creating a background URL session</span><!--end_enstr-->
<span class="jpstr">
<strong data-v-8e4998ac="">コード出力 1</strong> バックグラウンドURLセッションを作成する
</span><!--end_jpstr-->
</figcaption><div data-v-ad42e7d6="" data-syntax="swift" class="code-listing" data-v-5c8f347c=""><!---->
<div data-v-ad42e7d6="" class="container-general"><pre data-v-ad42e7d6=""><code data-v-ad42e7d6=""><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="1" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line"><span class="syntax-keyword">private</span> <span class="syntax-keyword">lazy</span> <span class="syntax-keyword">var</span> urlSession: <span class="syntax-type">URLSession</span> <span class="syntax-operator">=</span> {</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="2" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">    <span class="syntax-keyword">let</span> config <span class="syntax-operator">=</span> <span class="syntax-type">URLSessionConfiguration</span>.background(withIdentifier: <span class="syntax-string">"MySession"</span>)</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="3" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">    config.isDiscretionary <span class="syntax-operator">=</span> <span class="syntax-literal">true</span></span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="4" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">    config.sessionSendsLaunchEvents <span class="syntax-operator">=</span> <span class="syntax-literal">true</span></span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="5" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">    <span class="syntax-keyword">return</span> <span class="syntax-type">URLSession</span>(configuration: config, delegate: <span class="syntax-keyword">self</span>, delegateQueue: <span class="syntax-literal">nil</span>)</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="6" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">}()</span></span></code></pre></div>
</div></figure><p></p>
<aside data-v-692ba3de="" aria-label="note" class="note"><p data-v-692ba3de="" class="label"><span class="enstr">Note</span><!--end_enstr-->
<span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
<p data-v-692ba3de=""><span class="enstr">For more visibility into how the system is scheduling and performing your background tasks, download and install the Background Networking Profile onto your iOS device from the Bug Reporting <a data-v-692ba3de="" href="https://developer.apple.com/bug-reporting/profiles-and-logs/">Profiles and Logs</a> page.</span><!--end_enstr-->
<span class="jpstr">
どのようにシステムがあなたのバックグラウンドタスクを予定してそして実行しているかのさらなる可視性のために、Background Networking ProfileをあなたのiOSデバイスへとBug Reportingの<a data-v-692ba3de="" href="https://developer.apple.com/bug-reporting/profiles-and-logs/">Profiles and Logs</a>ページからダウンロードおよびインストールしてください。
</span><!--end_jpstr-->
</p></aside><p></p>
<h3 id="2920774"><span class="enstr">Create and Schedule the Download Task</span><!--end_enstr-->
<span class="jpstr">
ダウンロードタスクを作成および予定する
</span><!--end_jpstr-->
</h3>
<p><span class="enstr">You create download tasks from the session with either the <a href="../../../documentation/foundation/nsurlsession/1411482-downloadtaskwithurl_language-objc.html" class=""><code data-v-88c637be="">download<wbr data-v-88c637be="">Task<wbr data-v-88c637be="">With<wbr data-v-88c637be="">URL:</wbr></wbr></wbr></code></a> method that takes a URL, or the <a href="../../../documentation/foundation/nsurlsession/1411481-downloadtaskwithrequest_language-objc.html" class=""><code data-v-88c637be="">download<wbr data-v-88c637be="">Task<wbr data-v-88c637be="">With<wbr data-v-88c637be="">Request:</wbr></wbr></wbr></code></a> method that takes a <a href="../../../documentation/foundation/urlrequest_language-objc.html" class=""><code data-v-88c637be="">URLRequest</code></a> instance. You set properties on this method to help the system optimize its behavior.</span><!--end_enstr-->
<span class="jpstr">
あなたはダウンロードタスクをセッションから、あるURLをとる<a href="../../../documentation/foundation/nsurlsession/1411482-downloadtaskwithurl_language-objc.html" class=""><code data-v-88c637be="">download<wbr data-v-88c637be="">Task<wbr data-v-88c637be="">With<wbr data-v-88c637be="">URL:</wbr></wbr></wbr></code></a>メソッド、またはある<a href="../../../documentation/foundation/urlrequest_language-objc.html" class=""><code data-v-88c637be="">URLRequest</code></a>インスタンスをとる<a href="../../../documentation/foundation/nsurlsession/1411481-downloadtaskwithrequest_language-objc.html" class=""><code data-v-88c637be="">download<wbr data-v-88c637be="">Task<wbr data-v-88c637be="">With<wbr data-v-88c637be="">Request:</wbr></wbr></wbr></code></a>メソッドのどちらかで、作成します。あなたは、このメソッド上でプロパティいくつかを設定して、システムがそれの挙動を最適化する助けとします。
</span><!--end_jpstr-->
 </p>
<ol>
<li><p><span class="enstr">As shown in <a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2920776" class="">Listing 2</a>, create a download task with <span><code data-v-88c637be="">download<wbr data-v-88c637be="">Task<wbr data-v-88c637be="">With<wbr data-v-88c637be="">URL:</wbr></wbr></wbr></code></span>.</span><!--end_enstr-->
<span class="jpstr">
<a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2920776" class="">コード出力 2</a>で示されるように、ダウンロードタスクを<span><code data-v-88c637be="">download<wbr data-v-88c637be="">Task<wbr data-v-88c637be="">With<wbr data-v-88c637be="">URL:</wbr></wbr></wbr></code></span>で作成してください。
</span><!--end_jpstr-->
</p></li>
<li><p><span class="enstr">Optionally, set the <a href="../../../documentation/foundation/nsurlsessiontask/2873413-earliestbegindate_language-objc.html" class=""><code data-v-88c637be="">earliest<wbr data-v-88c637be="">Begin<wbr data-v-88c637be="">Date</wbr></wbr></code></a> property to schedule the download to begin at a particular point in the future. The download isn’t guaranteed to begin at precisely this time, but it won’t start sooner.</span><!--end_enstr-->
<span class="jpstr">
随意に、<a href="../../../documentation/foundation/nsurlsessiontask/2873413-earliestbegindate_language-objc.html" class=""><code data-v-88c637be="">earliest<wbr data-v-88c637be="">Begin<wbr data-v-88c637be="">Date</wbr></wbr></code></a>プロパティを設定して、そのダウンロードを未来の特定の時点で始めるように予定してください。ダウンロードは、正確にこの時間で開始すると保証されません、しかしそれは予定より早く始まりません。
</span><!--end_jpstr-->
 </p></li>
<li><p><span class="enstr">To help the system schedule network activity efficiently, set the properties <a href="../../../documentation/foundation/nsurlsessiontask/2873401-countofbytesclientexpectstosend_language-objc.html" class=""><code data-v-88c637be="">count<wbr data-v-88c637be="">Of<wbr data-v-88c637be="">Bytes<wbr data-v-88c637be="">Client<wbr data-v-88c637be="">Expects<wbr data-v-88c637be="">To<wbr data-v-88c637be="">Send</wbr></wbr></wbr></wbr></wbr></wbr></code></a> and <a href="../../../documentation/foundation/nsurlsessiontask/2873414-countofbytesclientexpectstorecei_language-objc.html" class=""><code data-v-88c637be="">count<wbr data-v-88c637be="">Of<wbr data-v-88c637be="">Bytes<wbr data-v-88c637be="">Client<wbr data-v-88c637be="">Expects<wbr data-v-88c637be="">To<wbr data-v-88c637be="">Receive</wbr></wbr></wbr></wbr></wbr></wbr></code></a>. These values are best-guess upper bounds on the expected byte count, and should account for headers as well as body data.</span><!--end_enstr-->
<span class="jpstr">
システムがネットワーク活動を効率的に予定するのを助けるために、プロパティ<a href="../../../documentation/foundation/nsurlsessiontask/2873401-countofbytesclientexpectstosend_language-objc.html" class=""><code data-v-88c637be="">count<wbr data-v-88c637be="">Of<wbr data-v-88c637be="">Bytes<wbr data-v-88c637be="">Client<wbr data-v-88c637be="">Expects<wbr data-v-88c637be="">To<wbr data-v-88c637be="">Send</wbr></wbr></wbr></wbr></wbr></wbr></code></a>と<a href="../../../documentation/foundation/nsurlsessiontask/2873414-countofbytesclientexpectstorecei_language-objc.html" class=""><code data-v-88c637be="">count<wbr data-v-88c637be="">Of<wbr data-v-88c637be="">Bytes<wbr data-v-88c637be="">Client<wbr data-v-88c637be="">Expects<wbr data-v-88c637be="">To<wbr data-v-88c637be="">Receive</wbr></wbr></wbr></wbr></wbr></wbr></code></a>を設定してください。これらの値は、予想バイト総数の最も有力な上限です、そしてヘッダだけでなくボディのデータも勘定に入れるべきです。
</span><!--end_jpstr-->
</p></li>
<li><p><span class="enstr">To start the task, call <a href="../../../documentation/foundation/nsurlsessiontask/1411121-resume_language-objc.html" class=""><code data-v-88c637be="">resume</code></a>.</span><!--end_enstr-->
<span class="jpstr">
タスクを開始するために、<a href="../../../documentation/foundation/nsurlsessiontask/1411121-resume_language-objc.html" class=""><code data-v-88c637be="">resume</code></a>を呼び出してください。
</span><!--end_jpstr-->
</p></li>
</ol>
<p><span class="enstr">In <a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2920776" class="">Listing 2</a>, the task is set to begin at least one hour in the future and is configured to send around 200 bytes of data and receive around 500 KB.</span><!--end_enstr-->
<span class="jpstr">
<a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2920776" class="">コード出力 2</a>では、タスクは最小では将来１時間で開始するよう設定されます、そして200バイトのデータを送信して500KBほど受信するように構成設定されます。
</span><!--end_jpstr-->
</p>
<figure data-v-5c8f347c="" id="2920776"><figcaption data-v-8e4998ac="" class="caption" data-v-5c8f347c=""><span class="enstr"><strong data-v-8e4998ac="">Listing 2</strong>&nbsp;Creating a download task from a URL session</span><!--end_enstr-->
<span class="jpstr">
<strong data-v-8e4998ac="">コード出力 2</strong> URLセッションからダウンロードタスクを作成する
</span><!--end_jpstr-->
</figcaption><div data-v-ad42e7d6="" data-syntax="swift" class="code-listing" data-v-5c8f347c=""><!---->
<div data-v-ad42e7d6="" class="container-general"><pre data-v-ad42e7d6=""><code data-v-ad42e7d6=""><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="1" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line"><span class="syntax-keyword">let</span> backgroundTask <span class="syntax-operator">=</span> urlSession.downloadTask(with: url)</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="2" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">backgroundTask.earliestBeginDate <span class="syntax-operator">=</span> <span class="syntax-type">Date</span>().addingTimeInterval(<span class="syntax-number">60</span> <span class="syntax-operator">*</span> <span class="syntax-number">60</span>)</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="3" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">backgroundTask.countOfBytesClientExpectsToSend <span class="syntax-operator">=</span> <span class="syntax-number">200</span></span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="4" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">backgroundTask.countOfBytesClientExpectsToReceive <span class="syntax-operator">=</span> <span class="syntax-number">500</span> <span class="syntax-operator">*</span> <span class="syntax-number">1024</span></span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="5" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">backgroundTask.resume()</span></span></code></pre></div>
</div></figure><h3 id="2928518"><span class="enstr">Handle App Suspension</span><!--end_enstr-->
<span class="jpstr">
アプリの一時停止を取り扱う
</span><!--end_jpstr-->
</h3>
<p><span class="enstr">Different app states affect how your app interacts with the background download. In iOS, your app could be in the foreground, suspended, or even terminated by the system. See <a href="https://developer.apple.com/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle?language=objc" class="">Managing Your App's Life Cycle</a> for more information about these states.</span><!--end_enstr-->
<span class="jpstr">
異なるアプリ状態は、どのようにあなたのアプリがバックグラウンドダウンロードと相互作用するかに影響します。iOSでは、あなたのアプリはシステムによって前面、一時停止、または終了されることさえありえます。<a href="https://developer.apple.com/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle?language=objc" class="">Managing Your App's Life Cycle</a>をそれらの状態についてのさらなる情報として見てください。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">If your app is in the background, the system may suspend your app while the download is performed in another process. In this case, when the download finishes, the system resumes the app and calls the <a href="https://developer.apple.com/documentation/uikit/uiapplicationdelegate?language=objc" class=""><code data-v-88c637be="">UIApplication<wbr data-v-88c637be="">Delegate</wbr></code></a> method <a href="https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1622941-application?language=objc" class=""><code data-v-88c637be="">application:<wbr data-v-88c637be="">handle<wbr data-v-88c637be="">Events<wbr data-v-88c637be="">For<wbr data-v-88c637be="">Background<wbr data-v-88c637be="">URLSession:<wbr data-v-88c637be="">completion<wbr data-v-88c637be="">Handler:</wbr></wbr></wbr></wbr></wbr></wbr></wbr></code></a>. This method receives the session identifier you created in <span>Listing 1</span> as its second parameter.</span><!--end_enstr-->
<span class="jpstr">
あなたのアプリがバックグラウンドであるならば、システムはあなたのアプリを、ダウンロードが別のプロセスにおいて実行される間に一時停止にするかもしれません。この場合には、タウンロードが終了する時、システムはアプリを再開して、<a href="https://developer.apple.com/documentation/uikit/uiapplicationdelegate?language=objc" class=""><code data-v-88c637be="">UIApplication<wbr data-v-88c637be="">Delegate</wbr></code></a>のメソッド<a href="https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1622941-application?language=objc" class=""><code data-v-88c637be="">application:<wbr data-v-88c637be="">handle<wbr data-v-88c637be="">Events<wbr data-v-88c637be="">For<wbr data-v-88c637be="">Background<wbr data-v-88c637be="">URLSession:<wbr data-v-88c637be="">completion<wbr data-v-88c637be="">Handler:</wbr></wbr></wbr></wbr></wbr></wbr></wbr></code></a>を呼び出します。このメソッドは、あなたが<span>コード出力 1</span> において作成したセッション識別子を、それの２番目のパラメータとして受け取ります。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">This delegate method also receives a completion handler as its final parameter. Immediately store this handler wherever it makes sense for your app, perhaps as a property of your app delegate, or of your class that implements <span><code data-v-88c637be="">NSURLSession<wbr data-v-88c637be="">Download<wbr data-v-88c637be="">Delegate</wbr></wbr></code></span>. In <a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2936325" class="">Listing 3</a>, this completion handler is stored in an app delegate property called <code data-v-88c637be="">background<wbr data-v-88c637be="">Completion<wbr data-v-88c637be="">Handler</wbr></wbr></code>.</span><!--end_enstr-->
<span class="jpstr">
この委任先メソッドはまた、完了ハンドラをそれの最終パラメータとして受け取ります。直接にこのハンドラをそれがあなたのアプリを理解するどこへでも格納してください、おそらくあなたのアプリ委任先の、または<span><code data-v-88c637be="">NSURLSession<wbr data-v-88c637be="">Download<wbr data-v-88c637be="">Delegate</wbr></wbr></code></span>を実装するあなたのクラスのプロパティとして。<a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2936325" class="">コード出力 3</a> では、この完了ハンドラは<code data-v-88c637be="">background<wbr data-v-88c637be="">Completion<wbr data-v-88c637be="">Handler</wbr></wbr></code>と呼ばれるアプリ委任先プロパティにおいて格納されます。
</span><!--end_jpstr-->
</p>
<figure data-v-5c8f347c="" id="2936325"><figcaption data-v-8e4998ac="" class="caption" data-v-5c8f347c=""><span class="enstr"><strong data-v-8e4998ac="">Listing 3</strong>&nbsp;Storing the background download completion handler sent to the application delegate</span><!--end_enstr-->
<span class="jpstr">
<strong data-v-8e4998ac="">コード出力 3</strong>&nbsp;アプリケーション委任先に送信されるバックグラウンドダウンロード完了ハンドラを格納する
</span><!--end_jpstr-->
</figcaption><div data-v-ad42e7d6="" data-syntax="swift" class="code-listing" data-v-5c8f347c=""><!---->
<div data-v-ad42e7d6="" class="container-general"><pre data-v-ad42e7d6=""><code data-v-ad42e7d6=""><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="1" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line"><span class="syntax-keyword">func</span> <span class="syntax-title function_">application</span>(<span class="syntax-keyword">_</span> <span class="syntax-params">application</span>: <span class="syntax-type">UIApplication</span>,</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="2" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">                 <span class="syntax-params">handleEventsForBackgroundURLSession</span> <span class="syntax-params">identifier</span>: <span class="syntax-type">String</span>,</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="3" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">                 <span class="syntax-params">completionHandler</span>: <span class="syntax-keyword">@escaping</span> () -&gt; <span class="syntax-type">Void</span>) {</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="4" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">        backgroundCompletionHandler <span class="syntax-operator">=</span> completionHandler</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="5" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">}</span></span></code></pre></div>
</div></figure><p>When all events have been delivered, the system calls the <a href="../../../documentation/foundation/nsurlsessiondelegate/1617185-urlsessiondidfinisheventsforback_language-objc.html" class=""><code data-v-88c637be="">URLSession<wbr data-v-88c637be="">Did<wbr data-v-88c637be="">Finish<wbr data-v-88c637be="">Events<wbr data-v-88c637be="">For<wbr data-v-88c637be="">Background<wbr data-v-88c637be="">URLSession:</wbr></wbr></wbr></wbr></wbr></wbr></code></a> method of <a href="../../../documentation/foundation/nsurlsessiondelegate_language-objc.html" class=""><code data-v-88c637be="">NSURLSession<wbr data-v-88c637be="">Delegate</wbr></code></a>. At this point, fetch the <code data-v-88c637be="">background<wbr data-v-88c637be="">Completion<wbr data-v-88c637be="">Handler</wbr></wbr></code> stored by the app delegate in <a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2936325" class="">Listing 3</a> and execute it. <span class="enstr"><a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2928519" class="">Listing 4</a> shows this process.</span><!--end_enstr-->
<span class="jpstr">
<a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2928519" class="">コード出力 4</a> は、このプロセスを示します。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">Note that because <span><code data-v-88c637be="">URLSession<wbr data-v-88c637be="">Did<wbr data-v-88c637be="">Finish<wbr data-v-88c637be="">Events<wbr data-v-88c637be="">For<wbr data-v-88c637be="">Background<wbr data-v-88c637be="">URLSession:</wbr></wbr></wbr></wbr></wbr></wbr></code></span> may be called on a secondary queue, it needs to explicitly execute the handler (which was received from a UIKit method) on the main queue.</span><!--end_enstr-->
<span class="jpstr">
<span><code data-v-88c637be="">URLSession<wbr data-v-88c637be="">Did<wbr data-v-88c637be="">Finish<wbr data-v-88c637be="">Events<wbr data-v-88c637be="">For<wbr data-v-88c637be="">Background<wbr data-v-88c637be="">URLSession:</wbr></wbr></wbr></wbr></wbr></wbr></code></span>が二次的なキュー上で呼び出されるかもしれないことから、それは明示的にハンドラ（それはUIKitメソッドから受け取られた）をメインキュー上で遂行する必要があることに注意してください。
</span><!--end_jpstr-->
</p>
<figure data-v-5c8f347c="" id="2928519"><figcaption data-v-8e4998ac="" class="caption" data-v-5c8f347c=""><span class="enstr"><strong data-v-8e4998ac="">Listing 4</strong>&nbsp;Executing the background URL session completion handler on the main queue</span><!--end_enstr-->
<span class="jpstr">
<strong data-v-8e4998ac="">コード出力 4</strong>&nbsp;バックグラウンドURLセッション完了ハンドラをメインキュー上で遂行する
</span><!--end_jpstr-->
</figcaption><div data-v-ad42e7d6="" data-syntax="swift" class="code-listing" data-v-5c8f347c=""><!---->
<div data-v-ad42e7d6="" class="container-general"><pre data-v-ad42e7d6=""><code data-v-ad42e7d6=""><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="1" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line"><span class="syntax-keyword">func</span> <span class="syntax-title function_">urlSessionDidFinishEvents</span>(<span class="syntax-params">forBackgroundURLSession</span> <span class="syntax-params">session</span>: <span class="syntax-type">URLSession</span>) {</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="2" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">    <span class="syntax-type">DispatchQueue</span>.main.async {</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="3" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">        <span class="syntax-keyword">guard</span> <span class="syntax-keyword">let</span> appDelegate <span class="syntax-operator">=</span> <span class="syntax-type">UIApplication</span>.shared.delegate <span class="syntax-keyword">as?</span> <span class="syntax-type">AppDelegate</span>,</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="4" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">            <span class="syntax-keyword">let</span> backgroundCompletionHandler <span class="syntax-operator">=</span></span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="5" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">            appDelegate.backgroundCompletionHandler <span class="syntax-keyword">else</span> {</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="6" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">                <span class="syntax-keyword">return</span></span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="7" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">        }</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="8" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">        backgroundCompletionHandler()</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="9" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">    }</span></span><span data-v-ad42e7d6="" class="code-line-container"><span data-v-ad42e7d6="" data-line-number="10" class="code-number" style="display: none;"></span>
<span data-v-ad42e7d6="" class="code-line">}</span></span></code></pre></div>
</div></figure><p></p>
<h3 id="3087615"><span class="enstr">Access the File, or Move It to a Permanent Location</span><!--end_enstr-->
<span class="jpstr">
ファイルにアクセスする、またはそれを永久的な場所に移動する
</span><!--end_jpstr-->
</h3>
<p><span class="enstr">Once your resumed app calls the completion handler, the download task finishes its work and calls the delegate’s <a href="../../../documentation/foundation/nsurlsessiondownloaddelegate/1411575-urlsession_language-objc.html" class=""><code data-v-88c637be="">URLSession:<wbr data-v-88c637be="">download<wbr data-v-88c637be="">Task:<wbr data-v-88c637be="">did<wbr data-v-88c637be="">Finish<wbr data-v-88c637be="">Downloading<wbr data-v-88c637be="">To<wbr data-v-88c637be="">URL:</wbr></wbr></wbr></wbr></wbr></wbr></wbr></code></a> method. At this point, the file is fully downloaded, and will be available until your delegate method returns. If you only need to read it once, you can access the file immediately in its temporary location. If you want to preserve the file, move it to a permanent location like the <code data-v-88c637be="">Documents</code> directory, as described in <a href="../../../documentation/foundation/url_loading_system/downloading_files_from_websites_language-objc.html" class="">Downloading Files from Websites</a>.</span><!--end_enstr-->
<span class="jpstr">
一旦あなたの再開されたアプリが完了ハンドラを呼び出すならば、ダウンロードタスクはそれの仕事を終了します、そして委任先のもつ<a href="../../../documentation/foundation/nsurlsessiondownloaddelegate/1411575-urlsession_language-objc.html" class=""><code data-v-88c637be="">URLSession:<wbr data-v-88c637be="">download<wbr data-v-88c637be="">Task:<wbr data-v-88c637be="">did<wbr data-v-88c637be="">Finish<wbr data-v-88c637be="">Downloading<wbr data-v-88c637be="">To<wbr data-v-88c637be="">URL:</wbr></wbr></wbr></wbr></wbr></wbr></wbr></code></a>メソッドを呼び出します。この時点で、ファイルは完全にダウンロードされます、そしてあなたの委任先メソッドが返るまでは利用可能でしょう。あなたがそれを一度だけ読み出す必要があるだけならば、あなたはそのファイルに直接にそれの一時的場所でアクセスできます。あなたがファイルを保存することを望むならば、それを<code data-v-88c637be="">Documents</code>ディレクトリのような永久的な場所に移動してください、<a href="../../../documentation/foundation/url_loading_system/downloading_files_from_websites_language-objc.html" class="">ファイルをウェブサイトからダウンロードする</a>で記述されるように。
</span><!--end_jpstr-->
</p>
<h3 id="2936566"><span class="enstr">Recreate the Session If the App Was Terminated</span><!--end_enstr-->
<span class="jpstr">
アプリが終了されたならばセッションを再度作成する
</span><!--end_jpstr-->
</h3>
<p><span class="enstr">If the system terminated the app while it was suspended, the system relaunches the app in the background. As part of your launch time setup, recreate the background session (see <span>Listing 1</span>), using the same session identifier as before, to allow the system to reassociate the background download task with your session. You do this so your background session is ready to go whether the app was launched by the user or by the system. Once the app relaunches, the series of events is the same as if the app had been suspended and resumed, as discussed earlier in <a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2928518" class="">Handle App Suspension</a>.</span><!--end_enstr-->
<span class="jpstr">
システムがそのアプリをそれが一時停止された間に終了するならば、システムはそのアプリをバックグラウンドで再起動します。あなたの起動時準備の一部として、バックグラウンドセッションを再作成して（<span>コード出力 1</span>を見てください）、前と同じセッション識別子を使用することで、システムがバックグラウンドタスクをあなたのセッションと再度結び付けられるようにします。あなたがこれをすることで、あなたのバックグラウンドセッションは、アプリがユーザによって起動されようとシステムによってであろうと、すぐに使えます。一旦アプリが再起動するならば、一連の出来事は、アプリが一時停止および再開された場合と同じです、より前に<a href="../../../documentation/foundation/url_loading_system/downloading_files_in_the_background_language-objc.html#2928518" class="">アプリの一時停止を取り扱う</a>で議論されたように。
</span><!--end_jpstr-->
</p>
<aside data-v-692ba3de="" aria-label="note" class="note"><p data-v-692ba3de="" class="label"><span class="enstr">Note</span><!--end_enstr-->
<span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
<p data-v-692ba3de=""><span class="enstr">In cases where the transfer is initiated while the app is in the background, the session configuration's <span data-v-692ba3de=""><code data-v-88c637be="">discretionary</code></span> property is treated as being <span data-v-692ba3de=""><code data-v-88c637be="">YES</code></span>.</span><!--end_enstr-->
<span class="jpstr">
アプリがバックグラウンドにある間に転送が開始される場合では、セッション構成設定のもつ<span data-v-692ba3de=""><code data-v-88c637be="">discretionary</code></span>プロパティは<span data-v-692ba3de=""><code data-v-88c637be="">YES</code></span>であると扱われます。
</span><!--end_jpstr-->
</p></aside><h3 id="2920790"><span class="enstr">Comply with Background Transfer Limitations</span><!--end_enstr-->
<span class="jpstr">
バックグラウンド転送制限に従う
</span><!--end_jpstr-->
</h3>
<p><span class="enstr">With background sessions, the actual transfer is performed by a process that is separate from your app’s process. Because restarting your app’s process is fairly expensive, a few features are unavailable, resulting in the following limitations:</span><!--end_enstr-->
<span class="jpstr">
バックグラウンドセッションでは、実際の転送は、あなたのアプリのもつプロセスから独立するあるプロセスによって実行されます。あなたのアプリのもつプロセスを再始動することはかなり高くつくことから、少数の機能は利用できません、結果として以下の制限になります：
</span><!--end_jpstr-->
</p>
<ul>
<li><p><span class="enstr">The session <em>must</em> provide a delegate for event delivery. (For uploads and downloads, the delegates behave the same as for in-process transfers.)</span><!--end_enstr-->
<span class="jpstr">
セッションは、ある委任先をイベント配送のために提供する<em>必要があります</em>。（アップロードとダウンロードに対して、委任先は進行中の転送と同じに振る舞います。）
</span><!--end_jpstr-->
</p></li>
<li><p><span class="enstr">Only HTTP and HTTPS protocols are supported (no custom protocols).</span><!--end_enstr-->
<span class="jpstr">
HTTPとHTTPSプロトコルだけがサポートされます（あつらえのプロトコルはだめです）。
</span><!--end_jpstr-->
</p></li>
<li><p><span class="enstr">Redirects are always followed. As a result, even if you have implemented <a href="../../../documentation/foundation/nsurlsessiontaskdelegate/1411626-urlsession_language-objc.html" class=""><code data-v-88c637be="">URLSession:<wbr data-v-88c637be="">task:<wbr data-v-88c637be="">will<wbr data-v-88c637be="">Perform<wbr data-v-88c637be="">HTTPRedirection:<wbr data-v-88c637be="">new<wbr data-v-88c637be="">Request:<wbr data-v-88c637be="">completion<wbr data-v-88c637be="">Handler:</wbr></wbr></wbr></wbr></wbr></wbr></wbr></wbr></code></a>, it is <em>not</em> called.</span><!--end_enstr-->
<span class="jpstr">
リダイレクトは、常に対応されます。結果として、たとえあなたが<a href="../../../documentation/foundation/nsurlsessiontaskdelegate/1411626-urlsession_language-objc.html" class=""><code data-v-88c637be="">URLSession:<wbr data-v-88c637be="">task:<wbr data-v-88c637be="">will<wbr data-v-88c637be="">Perform<wbr data-v-88c637be="">HTTPRedirection:<wbr data-v-88c637be="">new<wbr data-v-88c637be="">Request:<wbr data-v-88c637be="">completion<wbr data-v-88c637be="">Handler:</wbr></wbr></wbr></wbr></wbr></wbr></wbr></wbr></code></a>を実装したとしても、それは呼び出され<em>ません</em>。
</span><!--end_jpstr-->
</p></li>
<li><p><span class="enstr">Only upload tasks from a file are supported (uploads from data instances or a stream fail after the app exits).</span><!--end_enstr-->
<span class="jpstr">
ファイルからのアップロードタスクだけがサポートされます（データインスタンスまたはストリームからのアップロードはアプリが終了する後に失敗します）。
</span><!--end_jpstr-->
 </p></li>
</ul>
<p></p>
<h3 id="3038438"><span class="enstr">Use Background Sessions Efficiently</span><!--end_enstr-->
<span class="jpstr">
バックグラウンドセッションを効率的に使う
</span><!--end_jpstr-->
</h3>
<p><span class="enstr">When the system resumes or relaunches your app, it uses a rate limiter to prevent abuse of background downloads. When your app starts a new download task while in the background, the task doesn't begin until the delay expires. The delay increases each time the system resumes or relaunches your app.</span><!--end_enstr-->
<span class="jpstr">
システムがあなたのアプリを再開または再起動する時、それはある比率制限を使ってバックグラウンドダウンロードの乱用を防ぎます。あなたのアプリが新しいダウンロードタスクを開始する一方でバックグラウンドにある場合、そのタスクは延期が満了するまで始まりません。延期は、システムがあなたのアプリを再開または再起動するごとに増大します。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">As a result, if your app starts a single background download, gets resumed when the download completes, and then starts a new download, it will greatly increase the delay. Instead, use a small number of background sessions — ideally just one — and use these sessions to start many download tasks at once. This allows the system to perform multiple downloads at once, and resume your app when they have completed.</span><!--end_enstr-->
<span class="jpstr">
結果として、あなたのアプリがある単一のバックグラウンドダウンロードを開始するならば、ダウンロードが完了する時に再開されます、そしてそれから新しいダウンロードを始めます、それは大幅に延期を増やすでしょう。代わりに、少ない数のバックグラウンドセッションを使ってください — 理想的にはただ１つだけ — そしてそれらセッションを使って多くのダウンロードタスクを一度に開始してください。これは、システムに複数のダウンロードを一度に実行させます、そしてそれらが完了する時にあなたのアプリを再開します。
</span><!--end_jpstr-->
</p>
<p><span class="enstr">Keep in mind, though, that each task has its own overhead. If you find you need to launch thousands of download tasks, change your design to perform fewer, larger transfers.</span><!--end_enstr-->
<span class="jpstr">
心に留めておいてください、各タスクはそれ自身の経費がかかることを。あなたが何千というダウンロードタスクを起動する必要があることに気づくならば、あなたの設計を変更することで、より少しの、より多くの転送を実行してください。
</span><!--end_jpstr-->
</p>
<aside data-v-692ba3de="" aria-label="note" class="note"><p data-v-692ba3de="" class="label"><span class="enstr">Note</span><!--end_enstr-->
<span class="jpstr">
注意
</span><!--end_jpstr-->
</p>
<p data-v-692ba3de=""><span class="enstr">The delay is reset to 0 whenever the user brings your app to the foreground. It also resets if the delay period elapses without the system resuming or relaunching your app.</span><!--end_enstr-->
<span class="jpstr">
延期は、ユーザがあなたのアプリを前面に持って来るときはいつでも、０に設定し直されます。それはまた、システムがあなたのアプリを再開または再起動することなく延期期間が過ぎ去るならば設定し直されます。
</span><!--end_jpstr-->
</p></aside><p></p>
</div></div>
</div><!----><!----><!---->
<section data-v-288f715c="" data-v-4fbfcbb8="" data-v-3042c2e3="" id="see-also" class="contenttable alt-light"><div data-v-288f715c="" class="container">
<h2 data-v-288f715c="" class="title"><span class="enstr">See Also</span><!--end_enstr-->
<span class="jpstr">
参照
</span><!--end_jpstr-->
</h2>
<div data-v-3166b2f0="" data-v-6ed43f12="" data-v-4fbfcbb8="" class="row contenttable-section">
<div data-v-10458e16="" data-v-6ed43f12="" class="col section-title large-3 medium-3 small-12" data-v-3166b2f0=""><h3 data-v-6ed43f12="" data-v-10458e16="" class="title"><span class="enstr">Downloading</span><!--end_enstr-->
<span class="jpstr">
ダウンロード
</span><!--end_jpstr-->
</h3></div>
<div data-v-10458e16="" data-v-6ed43f12="" class="col section-content large-9 medium-9 small-12" data-v-3166b2f0=""><!----><!----><!---->
<div data-v-38ec35d1="" data-v-4fbfcbb8="" class="link-block topic" data-v-10458e16="">
<a data-v-38ec35d1="" href="../../../documentation/foundation/url_loading_system/downloading_files_from_websites_language-objc.html" class="link has-adjacent-elements"><div data-v-9d2ba25c="" data-v-38ec35d1="" class="topic-icon-wrapper"><svg data-v-7f60a732="" data-v-9d2ba25c="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon article-icon topic-icon" viewbox="0 0 15 15"><path data-v-7f60a732="" d="m11.2623182 15c1.365556 0 2.055373-.7038949 2.055373-2.069451v-6.60957293c0-.76020648-.0985453-1.09103707-.5631159-1.5696856l-4.13890191-4.18113561c-.45049272-.45753168-.81651806-.57015486-1.4992961-.57015486h-3.37869545c-1.35147818 0-2.05537306.70389489-2.05537306 2.07648991v10.85405909c0 1.3725951.69685593 2.069451 2.05537306 2.069451zm-.0422337-.8657907h-7.44016897c-.80947912 0-1.2247771-.4293759-1.2247771-1.2247771v-10.81182544c0-.78132332.41529798-1.2247771 1.23181605-1.2247771h3.28718911v4.23744721c0 .80244016.40825904 1.1825434 1.18958236 1.1825434h4.18817455v6.61661193c0 .7954012-.4223369 1.2247771-1.231816 1.2247771zm1.0558423-8.66494604h-3.92069451c-.32379165 0-.45753168-.12670108-.45753168-.45753168v-3.9629282z"></path></svg></div>
<span data-v-38ec35d1=""><span class="enstr">Downloading Files from Websites</span><!--end_enstr-->
<span class="jpstr">
ファイルをウェブサイトからダウンロードする
</span><!--end_jpstr-->
</span><!----></a><div data-v-38ec35d1="" class="abstract">
<div data-v-702ae484="" data-v-38ec35d1="" class="content"><span class="enstr">Download files directly to the filesystem.</span><!--end_enstr-->
<span class="jpstr">
ファイルを直接にファイルシステムにダウンロードします。
</span><!--end_jpstr-->
</div><!----><!----><!---->

</div><!---->

</div>
<div data-v-38ec35d1="" data-v-4fbfcbb8="" class="link-block topic" data-v-10458e16="">
<a data-v-38ec35d1="" href="../../../documentation/foundation/url_loading_system/pausing_and_resuming_downloads_language-objc.html" class="link has-adjacent-elements"><div data-v-9d2ba25c="" data-v-38ec35d1="" class="topic-icon-wrapper"><svg data-v-7f60a732="" data-v-9d2ba25c="" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="svg-icon article-icon topic-icon" viewbox="0 0 15 15"><path data-v-7f60a732="" d="m11.2623182 15c1.365556 0 2.055373-.7038949 2.055373-2.069451v-6.60957293c0-.76020648-.0985453-1.09103707-.5631159-1.5696856l-4.13890191-4.18113561c-.45049272-.45753168-.81651806-.57015486-1.4992961-.57015486h-3.37869545c-1.35147818 0-2.05537306.70389489-2.05537306 2.07648991v10.85405909c0 1.3725951.69685593 2.069451 2.05537306 2.069451zm-.0422337-.8657907h-7.44016897c-.80947912 0-1.2247771-.4293759-1.2247771-1.2247771v-10.81182544c0-.78132332.41529798-1.2247771 1.23181605-1.2247771h3.28718911v4.23744721c0 .80244016.40825904 1.1825434 1.18958236 1.1825434h4.18817455v6.61661193c0 .7954012-.4223369 1.2247771-1.231816 1.2247771zm1.0558423-8.66494604h-3.92069451c-.32379165 0-.45753168-.12670108-.45753168-.45753168v-3.9629282z"></path></svg></div>
<span data-v-38ec35d1=""><span class="enstr">Pausing and Resuming Downloads</span><!--end_enstr-->
<span class="jpstr">
ダウンロードを一時停止および再開する
</span><!--end_jpstr-->
</span><!----></a><div data-v-38ec35d1="" class="abstract">
<div data-v-702ae484="" data-v-38ec35d1="" class="content"><span class="enstr">Allow the user to resume a download without starting over.</span><!--end_enstr-->
<span class="jpstr">
ユーザにダウンロードを最初からやり直すことなく再開させます。
</span><!--end_jpstr-->
</div><!----><!----><!---->

</div><!---->

</div>
</div>
</div>
</div><!----></section></main>
</div></div>
<section data-v-a17d48ac="" data-v-2fddaabf="" id="globalfooter-wrapper" data-v-2f8d976c=""><footer data-v-a17d48ac="" id="globalfooter" role="contentinfo"><nav data-v-a17d48ac="" class="footer-breadory"><a data-v-a17d48ac="" href="https://apple.com/" class="home breadcrumbs-home"><span data-v-a17d48ac="" aria-hidden="true"></span><span data-v-a17d48ac="" class="breadcrumbs-home-label">Apple</span></a><section data-v-a17d48ac="" class="breadcrumbs"><ol data-v-a17d48ac="" class="breadcrumbs-list">
<li><a href="/">Developer</a></li>
<li><a href="../../../index.html" class="link">  Documentation  </a></li>
</ol></section><div data-v-a17d48ac="" id="directorynav" class="directorynav">
<div data-v-a17d48ac="" class="column">
<h3 data-v-a17d48ac=""><a data-v-a17d48ac="" href="/discover/">  Discover  </a></h3>
<ul data-v-a17d48ac="">
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/ios/">  iOS  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/ipados/">  iPadOS  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/macos/">  macOS  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/tvos/">  tvOS  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/watchos/">  watchOS  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/safari/">  Safari and Web  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/games/">  Games  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/business/">  Business  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/education/">  Education  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/wwdc/">  WWDC  </a></li>
</ul>
</div>
<div data-v-a17d48ac="" class="column">
<h3 data-v-a17d48ac=""><a data-v-a17d48ac="" href="/design/">  Design  </a></h3>
<ul data-v-a17d48ac="">
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/design/human-interface-guidelines/">  Human Interface Guidelines  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/design/resources/"> <span class="enstr">Resources</span><!--end_enstr-->
<span class="jpstr">
リソース
</span><!--end_jpstr-->
 </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/videos/design/">  Videos  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/design/awards/">  Apple Design Awards  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/fonts/">  Fonts  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/accessibility/">  Accessibility  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/localization/"> <span class="enstr">Localization</span><!--end_enstr-->
<span class="jpstr">
ローカライゼーション
</span><!--end_jpstr-->
 </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/accessories/">  Accessories  </a></li>
</ul>
</div>
<div data-v-a17d48ac="" class="column">
<h3 data-v-a17d48ac=""><a data-v-a17d48ac="" href="/develop/">  Develop  </a></h3>
<ul data-v-a17d48ac="">
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/xcode/">  Xcode  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/swift/">  Swift  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/swift-playgrounds/">  Swift Playgrounds  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/testflight/">  TestFlight  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="https://developer.apple.com/documentation/">  Documentation  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/videos/">  Videos  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/download/">  Downloads  </a></li>
</ul>
</div>
<div data-v-a17d48ac="" class="column">
<h3 data-v-a17d48ac=""><a data-v-a17d48ac="" href="/distribute/">  Distribute  </a></h3>
<ul data-v-a17d48ac="">
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/programs/">  Developer Program  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/app-store/">  App Store  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/app-store/review/">  App Review  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/macos/distribution/">  Mac Software  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/business/distribute/">  Apps for Business  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/safari/extensions/">  Safari Extensions  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/app-store/marketing/guidelines/">  Marketing Resources  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/softwarelicensing/">  Trademark Licensing  </a></li>
</ul>
</div>
<div data-v-a17d48ac="" class="column">
<h3 data-v-a17d48ac=""><a data-v-a17d48ac="" href="/support/">  Support  </a></h3>
<ul data-v-a17d48ac="">
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/support/articles/">  Articles  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/forums/">  Developer Forums  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/bug-reporting/">  Feedback &amp; Bug Reporting  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/system-status/">  System Status  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/contact/">  Contact Us  </a></li>
</ul>
<h3 data-v-a17d48ac=""><a data-v-a17d48ac="" href="/account/">  Account  </a></h3>
<ul data-v-a17d48ac="">
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="/account/ios/certificate/">  Certificates, Identifiers &amp; Profiles  </a></li>
<li data-v-a17d48ac=""><a data-v-a17d48ac="" href="https://appstoreconnect.apple.com/">  App Store Connect  </a></li>
</ul>
</div>
</div></nav><div data-v-a17d48ac="" class="ac-gf-footer-legal">
<div data-v-a17d48ac="" class="ac-gf-footer-news">
<div data-v-a17d48ac="" class="copy">  To view the latest developer news, visit <a data-v-a17d48ac="" href="/news/">News and Updates</a>.  </div>
<div data-v-a17d48ac="" class="controls"><div data-v-3228f94a="" data-v-a17d48ac="" aria-label="Select a color scheme preference" role="radiogroup" tabindex="0" class="color-scheme-toggle">
<label data-v-3228f94a=""><input data-v-3228f94a="" type="radio" value="light"><div data-v-3228f94a="" class="text">Light</div></label><label data-v-3228f94a=""><input data-v-3228f94a="" type="radio" value="dark"><div data-v-3228f94a="" class="text">Dark</div></label><label data-v-3228f94a=""><input data-v-3228f94a="" type="radio" value="auto"><div data-v-3228f94a="" class="text">Auto</div></label>
</div></div>
</div>
<div data-v-a17d48ac="" class="ac-gf-footer-legal-copyright">  Copyright © 2022 <a data-v-a17d48ac="" href="https://www.apple.com">Apple Inc.</a> All rights reserved.  </div>
<div data-v-a17d48ac="" class="ac-gf-footer-legal-links">
<a data-v-a17d48ac="" href="https://www.apple.com/legal/internet-services/terms/site.html" class="ac-gf-footer-legal-link first"> Terms of Use </a><a data-v-a17d48ac="" href="https://www.apple.com/privacy/privacy-policy/" class="ac-gf-footer-legal-link"> Privacy Policy </a><a data-v-a17d48ac="" href="/support/terms/" class="ac-gf-footer-legal-link"> Agreements and Guidelines </a>
</div>
</div></footer></section>
</div>
<script src="../../../tutorials/js/chunk-vendors.011d2fc1.js"></script>
</body>
</html>
